!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.CS_core=e()}}(function(){var e;return function t(e,n,i){function r(o,a){if(!n[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[o]={exports:{}};e[o][0].call(c.exports,function(t){var n=e[o][1][t];return r(n?n:t)},c,c.exports,t,e,n,i)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){var i={components:{},loadedComponentGroups:[],RegisteredComponents:{},_initChannel:function(){this.channelName="cs",this.channel=Backbone.Radio.channel(this.channelName);var e=this;Backbone.Radio.debugLog=function(t,n,i){Backbone.Radio.DEBUG&&console&&console.warn&&e.radioDebug&&console.warn(Backbone.Radio._debugText(t,n,i))}},initialize:function(){this.Config=this._booleanize(this.Config),this.events=Backbone.Radio.channel("cs:event"),this.Config.debug&&(Backbone.Radio.DEBUG=!0),this.bootTime=(new Date).getTime(),this.registerComponents(e("./components"))},onBeforeStart:function(e){this.loadComponents("common")},onStart:function(){jQuery(_.bind(function(){this.loadComponents("start")},this))},loadComponents:function(e){this.Registry[e]&&_.each(this.Registry[e],function(e){this.loadComponent(e)},this)},loadComponent:function(e){return this.components[e]?this.components[e]:void(this.components[e]=new this.RegisteredComponents[e]({cs:this}))},component:function(e){return this.components[e]?this.components[e]:{}},registerComponents:function(e){this.RegisteredComponents=_.extend(e,this.RegisteredComponents)},updateConfig:function(e){this.Config=_.deepExtend(this._booleanize(e),this.Config||{})},updateRegistry:function(e){_.each(e,function(e,t){var n=this.Registry[t]||[];this.Registry[t]=_.unique(_.union(n,e))},this)},loadTemplates:function(e){this.Templates=_.extend(this.Templates||{},e)},config:function(e){return _.has(this.Config,e)?this.Config[e]:null},debug:function(){return this.config("debug")},_booleanize:function(e){return _.each(e,function(t,n){"true"==t&&(e[n]=!0),"false"==t&&(e[n]=!1)}),e}};_.extend(i,e("./modules/cs")),i=Cornerstone.Mn.Application.extend(i),t.exports=function(e,t){(window.cs=new i({Config:e,Registry:t})).start({})}},{"./components":12,"./modules/cs":25}],2:[function(e,t,n){t.exports=Backbone.Collection.extend({model:e("../models/control")})},{"../models/control":15}],3:[function(e,t,n){t.exports=Backbone.Collection.extend({model:e("../models/element-definition")})},{"../models/element-definition":16}],4:[function(e,t,n){var i=e("./proxyable");t.exports=i.extend({model:e("../models/element"),comparator:function(e){return e.get("rank")},constructor:function(e,t){this.on("update:position",this.updatePosition),Backbone.Collection.apply(this,arguments),this.on("add",this.pageDirty),this.on("remove",this.pageDirty),this.on("sort",this.pageDirty)},create:function(e,t,n){var n=n||{};e._type||cs.warn("Elements can not be created without a type",e);var i=new this.model(e,t);return n.replace&&_.isFunction(n.replace.destroy)&&(n.replace.trigger("imminent:replacement",i),n.replace.destroy()),_.isFunction(n.after)&&n.after(i),this.updatePosition(i,_.isFinite(n.position)?n.position:this.length),i.trigger("created",i),i},pageDirty:function(){cs.channel.trigger("page:unsaved")},updatePosition:function(e,t){this.remove(e),this.each(function(e,n){var i=n;n>=t&&(i+=1),e.set("rank",i)}),e.set("rank",t),this.add(e,{at:t}),this.sort(),this.each(function(e){e.trigger("position:updated")})},getParent:function(){return this.parent||null}})},{"../models/element":17,"./proxyable":6}],5:[function(e,t,n){t.exports={Proxyable:e("./proxyable"),Element:e("./element"),ElementDefinition:e("./element-definition"),Control:e("./control"),Template:e("./template"),Setting:e("./setting")}},{"./control":2,"./element":4,"./element-definition":3,"./proxyable":6,"./setting":7,"./template":8}],6:[function(e,t,n){var i=Backbone.Collection.extend({model:e("../models/proxyable"),toProxy:function(){var e=new Backbone.Collection;return this.each(function(t){var n=t.getDefaults();e.add(new t.proxyClass(_.extend(n,t.proxyData()),{source:t,defaults:n}))}),e}});i.prototype.sync=function(){return null},i.prototype.fetch=function(){return null},i.prototype.save=function(){return null},t.exports=i},{"../models/proxyable":19}],7:[function(e,t,n){var i=e("./proxyable");t.exports=i.extend({model:e("../models/setting")})},{"../models/setting":20,"./proxyable":6}],8:[function(e,t,n){var i=Backbone.Collection.extend({model:e("../models/template"),section:function(e){return bySection=this.filter(function(t){return t.get("section")===e}),new i(bySection)}});t.exports=i},{"../models/template":21}],9:[function(e,t,n){t.exports=Cornerstone.Component.extend({initialize:function(){Cornerstone.Mn.Renderer=e("../utility/renderer")}})},{"../utility/renderer":30}],10:[function(e,t,n){t.exports=Cornerstone.Component.extend({initialize:function(){cs.elements=Backbone.Radio.channel("cs:elements"),this.listenTo(cs.elements,"delete",this.deleteEl),this.listenTo(cs.elements,"erase",this.erase),this.listenTo(cs.elements,"add:item",this.add),this.listenTo(cs.elements,"duplicate",this.duplicate)},deleteEl:function(e){e.model&&e.model.destroy({success:function(){e.success&&_.defer(e.success)}})},erase:function(e){e.model&&(_.isEmpty(e.model.elements)||e.model.elements.reset(),e.success&&_.defer(e.success))},add:function(e,t,n,i){if(e&&t.elements){var r={_type:e};if(n){var i=i||"title";r[i]=n.replace("%s",t.elements.length+1)}t.elements.create(r)}},duplicate:function(e,t){e.updateChildData();var n=e.toJSON(),t=t||"title";n[t]&&(n[t]=cs.l18n("sortable-duplicate").replace("%s",n[t])),e.collection.create(n,_.clone(e.options),e.collection.indexOf(e)+1,function(t){cs.render.shadow(t,e.cid)})}})},{}],11:[function(e,t,n){t.exports=Cornerstone.Component.extend({searchOptions:{caseSensitive:!1,includeScore:!0,shouldSort:!0,threshold:.6,location:0,distance:100,maxPatternLength:32,keys:["title","name","transposed"]},initialize:function(){this.contexts={},this.library=new Cornerstone.Collections.ElementDefinition;var e=this.cs.config("elementDefinitions");_.isArray(e)&&this.library.add(e),this.cs.elementLibrary=this},lookup:function(e){var t=this.library.findWhere({name:e});return t?t:this.library.findWhere({name:"undefined"})},all:function(){return new Cornerstone.Collections.ElementDefinition(this.library.models)},filter:function(e){return new Cornerstone.Collections.ElementDefinition(this.library.filter(e))},registerContext:function(e,t){var n=this.filter(t),i=n.map(function(e){var t=e.get("ui").title,n=t.split(" ");return n.reverse(),{title:t,name:e.get("name"),transposed:n.join(" ")}});this.contexts[e]={collection:n,searchIndex:i}},get:function(e){var t=this.contexts[e];return t&&t.collection?t.collection:this.all()},search:function(e,t){var n="",i=this.contexts[e];if(i&&i.searchIndex&&""!=t){var r=new Cornerstone.Vendor.Fuse(i.searchIndex,this.searchOptions);n=_.map(r.search(t),function(e){return e.name})}return n}})},{}],12:[function(e,t,n){t.exports={common:e("./common"),"element-library":e("./element-library"),"element-handler":e("./element-handler")}},{"./common":9,"./element-handler":10,"./element-library":11}],13:[function(e,t,n){e("./modules/bootstrap"),e("./app-mk2")(csCoreData,{common:["common","element-library","element-handler"]})},{"./app-mk2":1,"./modules/bootstrap":23}],14:[function(e,t,n){var i=Backbone.Model.extend({initialize:function(e,t){this.source=t.source||null;t.defaults||null;this.source&&(this.elements=t.source.elements||null,this.definition=t.source.definition||null),this.listenTo(this.source,"children:updated",function(){this.trigger("children:updated")}),this.listenTo(this.source,"position:updated",function(){this.trigger("position:updated")}),this.listenTo(this.source,"remove destroy",function(){this.destroy()})},getIndex:function(){return this.source.getIndex()},getSource:function(){return this.source},getSourceParent:function(){return this.source.collection.parent},getSourceGrandParent:function(){return this.source.collection.parent.collection.parent},refresh:function(){this.set(_.clone(this.source.attributes),{silent:!0})}});i.prototype.sync=function(){return null},i.prototype.fetch=function(){return null},i.prototype.save=function(){return null},t.exports=i},{}],15:[function(e,t,n){t.exports=Backbone.Model.extend({defaults:{name:null,key:null,type:null,ui:{},options:{},context:"all",condition:{}},initialize:function(){this.proxy=null,_.isNull(this.get("key"))&&this.set("key",this.get("name"))},setProxy:function(e){this.proxy=e,this.trigger("set:proxy")}})},{}],16:[function(e,t,n){t.exports=Backbone.Model.extend({defaults:{name:null,ui:null,flags:null,active:!0,base_defaults:{},defaults:{},controls:[]},getDefaults:function(e){return this.get(e?e+"_defaults":"defaults")},getControls:function(e){var e=e||"all";return _.filter(this.get("controls"),function(t){return"all"==e&&0!==t.context.indexOf("_")?!0:t.context==e},this)}})},{}],17:[function(e,t,n){var i=e("./proxyable");t.exports=i.extend({idAttribute:"_elID",proxyClass:e("./control-proxy"),proxyExclusions:["elements"],defaults:{_type:"undefined"},initialize:function(e){var t,n,i,r;this.definition=this.getDefinition(),(r=this.definition.get("_layout_defaults"))&&_.each(r,function(e,t){this.has(t)||this.set(t,e)},this),this.elements=new Cornerstone.Collections.Element,this.elements.parent=this,t=this.get("elements"),n=this.definition.get("defaults"),i=_.isUndefined(t)?n.elements?_.clone(n.elements):[]:t,i&&!_.isEmpty(i)&&this.elements.add(i),this.listenTo(this.elements,"update",function(){this.trigger("children:updated")}),this.on("change",function(e,t){this.collection&&this.collection.trigger("model:change",e,t)}),this.on("update:child:data",this.updateChildData),this.listenTo(this.elements,"sort",this.updateChildData),this.listenTo(this.elements,"remove",this.updateChildData),this.listenTo(this.elements,"model:change",this.updateChildData),this.trigger("update:child:data"),this.on("destroy",function(){this.elements.invoke("destroy")})},getDefaults:function(){return _.clone(this.definition.getDefaults())},updateChildData:function(){return this.elements.isEmpty()?void this.set("elements",[]):(this.elements.invoke("updateChildData"),this.set("elements",this.elements.toJSON()),void this.trigger("child:data:updated"))},getDefinition:function(){return cs.elementLibrary.lookup(this.get("_type"))},eraseChildren:function(){this.elements.isEmpty()||(this.elements.invoke("destroy"),this.updateChildData())},getIndex:function(){return this.collection.indexOf(this)},toJSON:function(){return _.omit(i.prototype.toJSON.apply(this,arguments),["rank"])},atFloor:function(){var e=this.definition.get("flags");return e.elements&&e.elements.floor&&this.elements.length<=e.elements.floor}})},{"./control-proxy":14,"./proxyable":19}],18:[function(e,t,n){var i={Element:e("./element"),ElementDefinition:e("./element-definition"),Control:e("./control"),Setting:e("./setting"),Proxyable:e("./proxyable"),Template:e("./template"),ControlProxy:e("./control-proxy")};t.exports=i},{"./control":15,"./control-proxy":14,"./element":17,"./element-definition":16,"./proxyable":19,"./setting":20,"./template":21}],19:[function(e,t,n){var i=Backbone.Model.extend({proxyClass:Backbone.Model,proxyExclusions:[],constructor:function(e,t){var n=e||{};t||(t={}),this.cid=_.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=_.defaults({},n,_.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)},setMeta:function(e,t){var n=this.get("_csmeta")||{},i=_.clone(n);return n[e]=t,this.set({_csmeta:n},{silent:!0}),this.trigger("meta:change",e,t,i,this),this.trigger("meta:change:"+e,t,i[e],this),this},getMeta:function(e){var t=this.get("_csmeta")||{};return _.isUndefined(e)?t:_.isUndefined(t[e])?void 0:t[e]},toJSON:function(){var e=Backbone.Model.prototype.toJSON.apply(this,arguments);return!_.isEmpty(this.meta)&&_.isObject(this.meta)&&(e._csmeta=this.meta),e},clone:function(){return console.log("CLONED"),Backbone.Model.prototype.toJSON.apply(this,arguments)},proxyData:function(){return _.omit(this.attributes,this.proxyExclusions)},toProxy:function(){var e=this.getDefaults();return new this.proxyClass(_.extend(e,this.proxyData()),{source:this,defaults:e})},proxyUpdate:function(e){var t=this.getDefaults();_.each(e,function(e,n){"disabled"!=n&&(_.isEqual(t[n],e)?this.unset(n):this.set(n,e))},this)},getDefaults:function(){return{}}});i.prototype.sync=function(){return null},i.prototype.fetch=function(){return null},i.prototype.save=function(){return null},t.exports=i},{}],20:[function(e,t,n){var i=e("./proxyable");t.exports=i.extend({idAttribute:"_sID",proxyClass:e("./control-proxy"),proxyExclusions:["elements"],defaults:{_section:"undefined"},initialize:function(e){var t,n,i;this.section=this.getSection(),this.elements=new Cornerstone.Collections.Element,this.elements.parent=this,t=this.get("elements"),n=this.section.get("defaults"),i=_.isEmpty(t)?n.elements?n.elements:[]:t,i&&!_.isEmpty(i)&&this.elements.add(i),this.listenTo(this.elements,"update",function(){this.trigger("children:updated")}),this.on("change",function(e,t){this.collection&&this.collection.trigger("model:change",e,t)}),this.on("update:child:data",this.updateChildData)},getDefaults:function(){return _.clone(this.section.get("defaults"))},updateChildData:function(){return this.elements.isEmpty()?void this.set("elements",[]):(this.elements.invoke("updateChildData"),void this.set("elements",this.elements.toJSON()))},getSection:function(){return cs.settingSections.findWhere({name:this.get("_section")})},eraseChildren:function(){this.elements.isEmpty()||(this.elements.invoke("destroy"),this.updateChildData())},getIndex:function(){return this.collection.indexOf(this)},toJSON:function(){return _.omit(i.prototype.toJSON.apply(this,arguments),["rank"])}})},{"./control-proxy":14,"./proxyable":19}],21:[function(e,t,n){t.exports=Backbone.Model.extend({defaults:{title:"Generic Block",section:"user-blocks",type:"block",elements:[]}})},{}],22:[function(e,t,n){t.exports=function(e,t,n){var i,r=cs.fallbackAjax?"fallbackAjaxUrl":"ajaxUrl",s=JSON.stringify(t||{});i=cs.config("useLegacyAjax")?{data:Cornerstone.Vendor.Base64.encode(s)}:s;var o=_.defaults(n||{},{type:"POST",url:cs.config(r)+"?action="+e,context:this,data:i,dataType:"json"});return Backbone.$.Deferred(function(e){o.always&&e.always(o.always),o.success&&e.done(o.success),o.error&&e.fail(o.error),delete o.always,delete o.success,delete o.error;var t=function(){"fallbackAjaxUrl"==r?cs.fallbackAjax?Backbone.$.ajax({type:"POST",url:cs.config("fallbackAjaxUrl")+"?action=cs_legacy_ajax",data:{enable:!0},complete:function(){cs.fallbackAjax=!1,window.location=window.location}}):console.log("Unhandled AJAX error."):(cs.global.trigger("ajax:fallback",!0),cs.fallbackAjax=!0)};Backbone.$.ajax(o).done(function(n){("true"!=arguments[2].getResponseHeader("Cornerstone")&&"ajaxUrl"==r||!n||!n.success)&&t(),_.isObject(n)&&!_.isUndefined(n.success)?e[n.success?"resolveWith":"rejectWith"](this,[n.data,o]):e.rejectWith(this,[n])}).fail(function(n){t(),e.rejectWith(this,arguments)})}).promise()}},{}],23:[function(e,t,n){window.Cornerstone=window.CS={};var i=e("./../../vendor/underscore-shim.js");e("../../vendor/string_score"),e("../../vendor/equalize"),e("../utility/polyfills"),e("backbone.radio"),e("backbone.stickit"),i.mixin({deepExtend:e("underscore-deep-extend")(i)}),Cornerstone.Vendor={Base64:e("../../vendor/base64"),Color:e("../../vendor/color"),FileSaver:e("../../vendor/FileSaver"),Fuse:e("fuse.js"),Marionette:e("backbone.marionette"),moment:e("moment"),bowser:e("bowser"),Pikaday:e("pikaday"),svg4everybody:e("svg4everybody")},Cornerstone.Vendor.svg4everybody(),Cornerstone.Mn=Cornerstone.Vendor.Marionette,Cornerstone.Component=e("./component-base"),Cornerstone.Models=e("../models"),Cornerstone.Collections=e("../collections"),Cornerstone.InspectionSupervisor=e("./inspection-supervisor"),Cornerstone.Post=e("./post"),Cornerstone.serial=e("./serial"),t.exports=Cornerstone},{"../../vendor/FileSaver":32,"../../vendor/base64":34,"../../vendor/color":35,"../../vendor/equalize":36,"../../vendor/string_score":38,"../collections":5,"../models":18,"../utility/polyfills":29,"./../../vendor/underscore-shim.js":39,"./component-base":24,"./inspection-supervisor":26,"./post":27,"./serial":28,"backbone.marionette":41,"backbone.radio":42,"backbone.stickit":43,bowser:44,"fuse.js":46,moment:47,pikaday:48,svg4everybody:49,"underscore-deep-extend":50}],24:[function(e,t,n){t.exports=Cornerstone.Mn.Object.extend({constructor:function(e){this.options=e||{},this.cs=this.getOption("cs"),Cornerstone.Mn.Object.call(this,e)}})},{}],25:[function(e,t,n){t.exports={ajax:e("./ajax"),template:function(){return this.Templates[1==arguments.length?arguments[0]:arguments.join("/")]},icon:function(e){if(e){var e=e.split("/"),t=cs.config("iconMaps"),n=e[0];if(t[n]){e.shift();var i=e.join("-"),r=t[n]+"#"+i,s='<svg role="img" class="cs-custom-icon"><use xlink:href="'+r+'"/></svg>';return s}}return'<i class="cs-icon fallback" data-cs-icon="'+this.fontIcon()+'"><!-- icon '+n+" not found--></i>"},elementIcon:function(e){return this.icon(cs.elementLibrary.lookup(e).get("icon"))},fontIcon:function(){return String.fromCharCode("0x"+this.fontIconLookup(arguments[0]||void 0))},fontIconLookup:function(){var e="spinner",t=arguments[0]||e;return this.Config.fontAwesome[t]?this.Config.fontAwesome[t]:this.Config.fontAwesome[e]},l18n:function(e){return this.Config.strings[e]||""},log:function(){this.Config.debug&&console.log.apply(console,arguments)},warn:function(){this.Config.debug&&(console.warn.apply(console,arguments),console.trace())},controlLookup:function(e){return Cornerstone.ControlViews[e]||Cornerstone.ControlViews.Base},"debugger":function(e){if(this.config("debug")){var e=e||5e3;setTimeout(function(){},e)}}}},{"./ajax":22}],26:[function(e,t,n){t.exports=Cornerstone.Mn.Object.extend({initialize:function(e){this.controls=new Cornerstone.Collections.Control,this.reset(),e&&(e.length?_.each(e,function(e){this.source(e)},this):this.source(e),this.rebuildControls())},source:function(e){if(e&&e.name&&e.source&&e.controls){this.groups[e.name]||(this.groups[e.name]={controls:new Cornerstone.Collections.Control});var t=this.groups[e.name];t.source=e.source,t.proxy=e.source.toProxy(),t.controls.reset(),this.groups[e.name]=t,this.listenTo(t.proxy,"change",function(e,n){t.source.proxyUpdate(e.changed)}),this.listenTo(t.proxy,"reset:key",function(e){t.source.unset(e)}),this.listenTo(t.controls,"add",function(e,n){e.setProxy(t.proxy)}),this.listenTo(t.controls,"reset",function(e){e.invoke("setProxy",t.proxy)}),t.controls.add(e.controls)}},reset:function(){this.groups={},this.controls.reset()},rebuildControls:function(){this.controls.reset(),_.each(this.groups,function(e){this.controls.add(e.controls.models)},this)}})},{}],27:[function(e,t,n){t.exports=Cornerstone.Mn.Object.extend({initialize:function(e){this.data=new Cornerstone.Models.Element,e&&e.post_id&&(this.data.set("post_id",e.post_id),e.elements&&this.data.elements.add(e.elements))},elements:function(){return this.data.elements},set:function(e,t){return this[e]?this[e]=t:this.data.set(e,t)},get:function(e){return this[e]?this[e]:this.data.get(e)},toJSON:function(){this.data.elements.invoke("updateChildData");var e=this.data.toJSON();return e.elements=this.data.elements.toJSON(),e}})},{}],28:[function(e,t,n){t.exports=function(t){var n,i=e("./../../vendor/jquery-shim.js");return _.each(t,function(e){var t=function(){var t=i.Deferred();return e(function(){t.resolve.apply(this,arguments)}),t.promise()};n=n?n.then(t):t()}),n}},{"./../../vendor/jquery-shim.js":37}],29:[function(e,t,n){},{}],30:[function(e,t,n){t.exports={templateHelpers:e("./template-helpers"),render:function(e,t,n){var t=t||{};if(n&&_.isFunction(n.triggerMethod)&&n.triggerMethod("template:data:ready",t),e!==!1){if(!e)throw new Cornerstone.Mn.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=_.isFunction(e)?e:cs.template(e);if(!i)throw new Cornerstone.Mn.Error({name:"TemplateLookupError",message:"Template not found in precompiled templates: "+e});return i(_.extend(t,this.templateHelpers))}}}},{"./template-helpers":31}],31:[function(e,t,n){var i={l18n:function(){return cs.l18n.apply(cs,arguments)},getIcon:function(){return cs.icon.apply(cs,arguments)},fontIcon:function(){return cs.fontIcon.apply(cs,arguments)},render:function(){return CS.Mn.Renderer.render.apply(this,arguments)},debug:function(e){return""}};cs.debug()&&(i.debug=function(e){return e}),t.exports=i},{}],32:[function(t,n,i){var r=r||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,n=function(){return e.URL||e.webkitURL||e},i=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,s=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},o=e.webkitRequestFileSystem,a=e.requestFileSystem||o||e.mozRequestFileSystem,h=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},u="application/octet-stream",c=0,l=500,d=function(t){var i=function(){"string"==typeof t?n().revokeObjectURL(t):t.remove()};e.chrome?i():setTimeout(i,l)},f=function(e,t,n){t=[].concat(t);for(var i=t.length;i--;){var r=e["on"+t[i]];if("function"==typeof r)try{r.call(e,n||e)}catch(s){h(s)}}},p=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},g=function(t,h,l){l||(t=p(t));var g,m,v,_=this,y=t.type,b=!1,w=function(){f(_,"writestart progress write writeend".split(" "))},M=function(){if((b||!g)&&(g=n().createObjectURL(t)),m)m.location.href=g;else{var i=e.open(g,"_blank");void 0==i&&"undefined"!=typeof safari&&(e.location.href=g)}_.readyState=_.DONE,w(),d(g)},x=function(e){return function(){return _.readyState!==_.DONE?e.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return _.readyState=_.INIT,h||(h="download"),r?(g=n().createObjectURL(t),i.href=g,i.download=h,void setTimeout(function(){s(i),w(),d(g),_.readyState=_.DONE})):(e.chrome&&y&&y!==u&&(v=t.slice||t.webkitSlice,t=v.call(t,0,t.size,u),b=!0),o&&"download"!==h&&(h+=".download"),(y===u||o)&&(m=e),a?(c+=t.size,void a(e.TEMPORARY,c,x(function(e){e.root.getDirectory("saved",C,x(function(e){var n=function(){e.getFile(h,C,x(function(e){e.createWriter(x(function(n){n.onwriteend=function(t){m.location.href=e.toURL(),_.readyState=_.DONE,f(_,"writeend",t),d(e)},n.onerror=function(){var e=n.error;e.code!==e.ABORT_ERR&&M()},"writestart progress write abort".split(" ").forEach(function(e){n["on"+e]=_["on"+e]}),n.write(t),_.abort=function(){n.abort(),_.readyState=_.DONE},_.readyState=_.WRITING}),M)}),M)};e.getFile(h,{create:!1},x(function(e){e.remove(),n()}),x(function(e){e.code===e.NOT_FOUND_ERR?n():M()}))}),M)}),M)):void M())},m=g.prototype,v=function(e,t,n){return new g(e,t,n)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return n||(e=p(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(m.abort=function(){var e=this;e.readyState=e.DONE,f(e,"abort")},m.readyState=m.INIT=0,m.WRITING=1,m.DONE=2,m.error=m.onwritestart=m.onprogress=m.onwrite=m.onabort=m.onerror=m.onwriteend=null,v)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof n&&n.exports?n.exports.saveAs=r:"undefined"!=typeof e&&null!==e&&null!=e.amd&&e([],function(){return r})},{}],33:[function(e,t,n){window.CornerstoneShims=window.CornerstoneShims||{},window.CornerstoneShims.Backbone||(window.CornerstoneShims.Backbone=window.Backbone),t.exports=window.CornerstoneShims.Backbone},{}],34:[function(e,t,n){function i(){this.buffer=[]}function r(e){this._input=e,this._index=-1,this._buffer=[]}function s(e){this._input=e,this._index=-1,this._buffer=[]}i.prototype.append=function(e){return this.buffer.push(e),this},i.prototype.toString=function(){return this.buffer.join("")};var o={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){for(var t=new i,n=new r(e);n.moveNext();){var s=n.current;n.moveNext();var o=n.current;n.moveNext();var a=n.current,h=s>>2,u=(3&s)<<4|o>>4,c=(15&o)<<2|a>>6,l=63&a;isNaN(o)?c=l=64:isNaN(a)&&(l=64),t.append(this.codex.charAt(h)+this.codex.charAt(u)+this.codex.charAt(c)+this.codex.charAt(l))}return t.toString()},decode:function(e){for(var t=new i,n=new s(e);n.moveNext();){var r=n.current;if(128>r)t.append(String.fromCharCode(r));else if(r>191&&224>r){n.moveNext();var o=n.current;t.append(String.fromCharCode((31&r)<<6|63&o))}else{n.moveNext();var o=n.current;n.moveNext();var a=n.current;t.append(String.fromCharCode((15&r)<<12|(63&o)<<6|63&a))}}return t.toString()}};r.prototype={current:Number.NaN,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var e=this._input.charCodeAt(++this._index);return 13==e&&10==this._input.charCodeAt(this._index+1)&&(e=10,this._index+=2),128>e?this.current=e:e>127&&2048>e?(this.current=e>>6|192,this._buffer.push(63&e|128)):(this.current=e>>12|224,this._buffer.push(e>>6&63|128),this._buffer.push(63&e|128)),!0}},s.prototype={current:64,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=64,!1;var e=o.codex.indexOf(this._input.charAt(++this._index)),t=o.codex.indexOf(this._input.charAt(++this._index)),n=o.codex.indexOf(this._input.charAt(++this._index)),i=o.codex.indexOf(this._input.charAt(++this._index)),r=e<<2|t>>4,s=(15&t)<<4|n>>2,a=(3&n)<<6|i;return this.current=r,64!=n&&this._buffer.push(s),64!=i&&this._buffer.push(a),!0}},t.exports=o},{}],35:[function(e,t,n){!function(e,i){var r=function(e,t){return this instanceof r?this._init(e,t):new r(e,t)};r.fn=r.prototype={_color:0,_alpha:1,error:!1,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:"hsl",_init:function(e){var t="noop";switch(typeof e){case"object":return e.a!==i&&this.a(e.a),t=e.r!==i?"fromRgb":e.l!==i?"fromHsl":e.v!==i?"fromHsv":t,this[t](e);case"string":return this.fromCSS(e);case"number":return this.fromInt(parseInt(e,10))}return this},_error:function(){return this.error=!0,this},clone:function(){for(var e=new r(this.toInt()),t=["_alpha","_hSpace","_hsl","_hsv","error"],n=t.length-1;n>=0;n--)e[t[n]]=this[t[n]];return e},setHSpace:function(e){return this._hSpace="hsv"===e?e:"hsl",this},noop:function(){return this},fromCSS:function(e){var t,n=/^(rgb|hs(l|v))a?\(/;if(this.error=!1,e=e.replace(/^\s+/,"").replace(/\s+$/,"").replace(/;$/,""),e.match(n)&&e.match(/\)$/)){if(t=e.replace(/(\s|%)/g,"").replace(n,"").replace(/,?\);?$/,"").split(","),t.length<3)return this._error();if(4===t.length&&(this.a(parseFloat(t.pop())),this.error))return this;for(var i=t.length-1;i>=0;i--)if(t[i]=parseInt(t[i],10),isNaN(t[i]))return this._error();return e.match(/^rgb/)?this.fromRgb({r:t[0],g:t[1],b:t[2]}):e.match(/^hsv/)?this.fromHsv({h:t[0],s:t[1],v:t[2]}):this.fromHsl({h:t[0],s:t[1],l:t[2]})}return this.fromHex(e)},fromRgb:function(e,t){return"object"!=typeof e||e.r===i||e.g===i||e.b===i?this._error():(this.error=!1,this.fromInt(parseInt((e.r<<16)+(e.g<<8)+e.b,10),t))},fromHex:function(e){return e=e.replace(/^#/,"").replace(/^0x/,""),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),this.error=!/^[0-9A-F]{6}$/i.test(e),this.fromInt(parseInt(e,16))},fromHsl:function(e){var t,n,r,s,o,a,h,u;return"object"!=typeof e||e.h===i||e.s===i||e.l===i?this._error():(this._hsl=e,this._hSpace="hsl",a=e.h/360,h=e.s/100,u=e.l/100,0===h?t=n=r=u:(s=.5>u?u*(1+h):u+h-u*h,o=2*u-s,t=this.hue2rgb(o,s,a+1/3),n=this.hue2rgb(o,s,a),r=this.hue2rgb(o,s,a-1/3)),this.fromRgb({r:255*t,g:255*n,b:255*r},!0))},fromHsv:function(e){var t,n,r,s,o,a,h,u,c,l,d;if("object"!=typeof e||e.h===i||e.s===i||e.v===i)return this._error();switch(this._hsv=e,this._hSpace="hsv",t=e.h/360,n=e.s/100,r=e.v/100,h=Math.floor(6*t),u=6*t-h,c=r*(1-n),l=r*(1-u*n),d=r*(1-(1-u)*n),h%6){case 0:s=r,o=d,a=c;break;case 1:s=l,o=r,a=c;break;case 2:s=c,o=r,a=d;break;case 3:s=c,o=l,a=r;break;case 4:s=d,o=c,a=r;break;case 5:s=r,o=c,a=l}return this.fromRgb({r:255*s,g:255*o,b:255*a},!0)},fromInt:function(e,t){return this._color=parseInt(e,10),isNaN(this._color)&&(this._color=0),this._color>16777215?this._color=16777215:this._color<0&&(this._color=0),t===i&&(this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0),this},hue2rgb:function(e,t,n){return 0>n&&(n+=1),n>1&&(n-=1),1/6>n?e+6*(t-e)*n:.5>n?t:2/3>n?e+(t-e)*(2/3-n)*6:e},toString:function(){var e=parseInt(this._color,10).toString(16);if(this.error)return"";if(e.length<6)for(var t=6-e.length-1;t>=0;t--)e="0"+e;return"#"+e},toCSS:function(e,t){switch(e=e||"hex",t=parseFloat(t||this._alpha),e){case"rgb":case"rgba":var n=this.toRgb();return 1>t?"rgba( "+n.r+", "+n.g+", "+n.b+", "+t+" )":"rgb( "+n.r+", "+n.g+", "+n.b+" )";case"hsl":case"hsla":var i=this.toHsl();return 1>t?"hsla( "+i.h+", "+i.s+"%, "+i.l+"%, "+t+" )":"hsl( "+i.h+", "+i.s+"%, "+i.l+"% )";default:return this.toString()}},toRgb:function(){return{r:255&this._color>>16,g:255&this._color>>8,b:255&this._color}},toHsl:function(){var e,t,n=this.toRgb(),i=n.r/255,r=n.g/255,s=n.b/255,o=Math.max(i,r,s),a=Math.min(i,r,s),h=(o+a)/2;if(o===a)e=t=0;else{var u=o-a;switch(t=h>.5?u/(2-o-a):u/(o+a),o){case i:e=(r-s)/u+(s>r?6:0);break;case r:e=(s-i)/u+2;break;case s:e=(i-r)/u+4}e/=6}return e=Math.round(360*e),0===e&&this._hsl.h!==e&&(e=this._hsl.h),t=Math.round(100*t),0===t&&this._hsl.s&&(t=this._hsl.s),{h:e,s:t,l:Math.round(100*h)}},toHsv:function(){var e,t,n=this.toRgb(),i=n.r/255,r=n.g/255,s=n.b/255,o=Math.max(i,r,s),a=Math.min(i,r,s),h=o,u=o-a;if(t=0===o?0:u/o,o===a)e=t=0;else{switch(o){case i:e=(r-s)/u+(s>r?6:0);break;case r:e=(s-i)/u+2;break;case s:e=(i-r)/u+4}e/=6}return e=Math.round(360*e),0===e&&this._hsv.h!==e&&(e=this._hsv.h),t=Math.round(100*t),0===t&&this._hsv.s&&(t=this._hsv.s),{h:e,s:t,v:Math.round(100*h)}},toInt:function(){return this._color},toIEOctoHex:function(){var e=this.toString(),t=parseInt(255*this._alpha,10).toString(16);return 1===t.length&&(t="0"+t),"#"+t+e.replace(/^#/,"")},toLuminosity:function(){var e=this.toRgb();return.2126*Math.pow(e.r/255,2.2)+.7152*Math.pow(e.g/255,2.2)+.0722*Math.pow(e.b/255,2.2)},getDistanceLuminosityFrom:function(e){if(!(e instanceof r))throw"getDistanceLuminosityFrom requires a Color object";var t=this.toLuminosity(),n=e.toLuminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},getMaxContrastColor:function(){var e=this.toLuminosity(),t=e>=.5?"000000":"ffffff";return new r(t)},getReadableContrastingColor:function(e,t){if(!e instanceof r)return this;var n=t===i?5:t,s=e.getDistanceLuminosityFrom(this),o=e.getMaxContrastColor(),a=o.getDistanceLuminosityFrom(e);if(n>=a)return o;if(s>=n)return this;for(var h=0===o.toInt()?-1:1;n>s&&(this.l(h,!0),s=this.getDistanceLuminosityFrom(e),0!==this._color&&16777215!==this._color););return this},a:function(e){if(e===i)return this._alpha;var t=parseFloat(e);return isNaN(t)?this._error():(this._alpha=t,this)},darken:function(e){return e=e||5,this.l(-e,!0)},lighten:function(e){return e=e||5,this.l(e,!0)},saturate:function(e){return e=e||15,this.s(e,!0)},desaturate:function(e){return e=e||15,this.s(-e,!0)},toGrayscale:function(){return this.setHSpace("hsl").s(0)},getComplement:function(){return this.h(180,!0)},getSplitComplement:function(e){e=e||1;var t=180+30*e;return this.h(t,!0)},getAnalog:function(e){e=e||1;var t=30*e;
return this.h(t,!0)},getTetrad:function(e){e=e||1;var t=60*e;return this.h(t,!0)},getTriad:function(e){e=e||1;var t=120*e;return this.h(t,!0)},_partial:function(e){var t=s[e];return function(n,r){var s=this._spaceFunc("to",t.space);return n===i?s[e]:(r===!0&&(n=s[e]+n),t.mod&&(n%=t.mod),t.range&&(n=n<t.range[0]?t.range[0]:n>t.range[1]?t.range[1]:n),s[e]=n,this._spaceFunc("from",t.space,s))}},_spaceFunc:function(e,t,n){var i=t||this._hSpace,r=e+i.charAt(0).toUpperCase()+i.substr(1);return this[r](n)}};var s={h:{mod:360},s:{range:[0,100]},l:{space:"hsl",range:[0,100]},v:{space:"hsv",range:[0,100]},r:{space:"rgb",range:[0,255]},g:{space:"rgb",range:[0,255]},b:{space:"rgb",range:[0,255]}};for(var o in s)s.hasOwnProperty(o)&&(r.fn[o]=r.fn._partial(o));"object"==typeof n?t.exports=r:e.Color=r}(this)},{}],36:[function(e,t,n){!function(e){e.fn.equalize=function(t){var n,i,r=this,s=!1,o=!1,a=0;return e.isPlainObject(t)?(n=t.equalize||"height",s=t.children||!1,o=t.reset||!1,a=t.offset||a):n=t||"height",e.isFunction(e.fn[n])?(i=n.indexOf("eight")>0?"min-height":"width",r.each(function(){var t=s?e(this).find(s):e(this).children(),r=0;t.each(function(){var t,s=e(this);o&&s.css(i,""),t=s[n](),t>r&&(r=t)}),t.css(i,r+a+"px")})):!1}}(jQuery)},{}],37:[function(e,t,n){window.CornerstoneShims=window.CornerstoneShims||{},window.CornerstoneShims.$||(window.CornerstoneShims.$=window.jQuery),t.exports=window.CornerstoneShims.$},{}],38:[function(e,t,n){String.prototype.score=function(e,t){"use strict";if(this===e)return 1;if(""===e)return 0;var n,i,r,s,o,a=0,h=this,u=h.toLowerCase(),c=h.length,l=e.toLowerCase(),d=e.length,f=0,p=1;if(t&&(s=1-t),t)for(o=0;d>o;o+=1)r=u.indexOf(l[o],f),-1===r?p+=s:(f===r?n=.7:(n=.1," "===h[r-1]&&(n+=.8)),h[r]===e[o]&&(n+=.1),a+=n,f=r+1);else for(o=0;d>o;o+=1){if(r=u.indexOf(l[o],f),-1===r)return 0;f===r?n=.7:(n=.1," "===h[r-1]&&(n+=.8)),h[r]===e[o]&&(n+=.1),a+=n,f=r+1}return i=.5*(a/c+a/d)/p,l[0]===u[0]&&.85>i&&(i+=.15),i}},{}],39:[function(e,t,n){window.CornerstoneShims=window.CornerstoneShims||{},window.CornerstoneShims._||(window.CornerstoneShims._=window._),t.exports=window.CornerstoneShims._},{}],40:[function(t,n,i){!function(r,s){if("function"==typeof e&&e.amd)e(["backbone","underscore"],function(e,t){return s(e,t)});else if("undefined"!=typeof i){var o=t("./../../../assets/js/src/admin/vendor/backbone-shim.js"),a=t("./../../../assets/js/src/admin/vendor/underscore-shim.js");n.exports=s(o,a)}else s(r.Backbone,r._)}(this,function(e,t){"use strict";var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){return e===n?(delete this._indexByCustom[t],!0):void 0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(i){t.isFunction(i[e])&&i[e].apply(i,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce"];return t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views),i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.10",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer})},{"./../../../assets/js/src/admin/vendor/backbone-shim.js":33,"./../../../assets/js/src/admin/vendor/underscore-shim.js":39}],41:[function(t,n,i){!function(r,s){if("function"==typeof e&&e.amd)e(["backbone","underscore","backbone.wreqr","backbone.babysitter"],function(e,t){return r.Marionette=r.Mn=s(r,e,t)});else if("undefined"!=typeof i){var o=t("./../../../../assets/js/src/admin/vendor/backbone-shim.js"),a=t("./../../../../assets/js/src/admin/vendor/underscore-shim.js");t("backbone.wreqr"),t("backbone.babysitter");n.exports=s(r,o,a)}else r.Marionette=r.Mn=s(r,r.Backbone,r._)}(this,function(e,t,n){"use strict";var i=e.Marionette,r=e.Mn,s=t.Marionette={};s.VERSION="2.4.4",s.noConflict=function(){return e.Marionette=i,e.Mn=r,this},s.Deferred=t.$.Deferred,s.FEATURES={},s.isEnabled=function(e){return!!s.FEATURES[e]},s.extend=t.Model.extend,s.isNodeAttached=function(e){return t.$.contains(document.documentElement,e)},s.mergeOptions=function(e,t){e&&n.extend(this,n.pick(e,t))},s.getOption=function(e,t){return e&&t?e.options&&void 0!==e.options[t]?e.options[t]:e[t]:void 0},s.proxyGetOption=function(e){return s.getOption(this,e)},s._getValue=function(e,t,i){return n.isFunction(e)&&(e=i?e.apply(t,i):e.call(t)),e},s.normalizeMethods=function(e){return n.reduce(e,function(e,t,i){return n.isFunction(t)||(t=this[t]),t&&(e[i]=t),e},{},this)},s.normalizeUIString=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},s.normalizeUIKeys=function(e,t){return n.reduce(e,function(e,n,i){var r=s.normalizeUIString(i,t);return e[r]=n,e},{})},s.normalizeUIValues=function(e,t,i){return n.each(e,function(r,o){n.isString(r)?e[o]=s.normalizeUIString(r,t):n.isObject(r)&&n.isArray(i)&&(n.extend(r,s.normalizeUIValues(n.pick(r,i),t)),n.each(i,function(e){var i=r[e];n.isString(i)&&(r[e]=s.normalizeUIString(i,t))}))}),e},s.actAsCollection=function(e,t){var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(i){e[i]=function(){var e=n.values(n.result(this,t)),r=[e].concat(n.toArray(arguments));return n[i].apply(n,r)}})};var o=s.deprecate=function(e,t){n.isObject(e)&&(e=e.prev+" is going to be removed in the future. Please use "+e.next+" instead."+(e.url?" See: "+e.url:"")),void 0!==t&&t||o._cache[e]||(o._warn("Deprecation warning: "+e),o._cache[e]=!0)};o._warn="undefined"!=typeof console&&(console.warn||console.log)||function(){},o._cache={},s._triggerMethod=function(){function e(e,t,n){return n.toUpperCase()}var t=/(^|:)(\w)/gi;return function(i,r,s){var o=arguments.length<3;o&&(s=r,r=s[0]);var a,h="on"+r.replace(t,e),u=i[h];return n.isFunction(u)&&(a=u.apply(i,o?n.rest(s):s)),n.isFunction(i.trigger)&&(o+s.length>1?i.trigger.apply(i,o?s:[r].concat(n.drop(s,0))):i.trigger(r)),a}}(),s.triggerMethod=function(e){return s._triggerMethod(this,arguments)},s.triggerMethodOn=function(e){var t=n.isFunction(e.triggerMethod)?e.triggerMethod:s.triggerMethod;return t.apply(e,n.rest(arguments))},s.MonitorDOMRefresh=function(e){function t(){e._isShown=!0,i()}function n(){e._isRendered=!0,i()}function i(){e._isShown&&e._isRendered&&s.isNodeAttached(e.el)&&s.triggerMethodOn(e,"dom:refresh",e)}e._isDomRefreshMonitored||(e._isDomRefreshMonitored=!0,e.on({show:t,render:n}))},function(e){function t(t,i,r,s){var o=s.split(/\s+/);n.each(o,function(n){var s=t[n];if(!s)throw new e.Error('Method "'+n+'" was configured as an event handler, but does not exist.');t.listenTo(i,r,s)})}function i(e,t,n,i){e.listenTo(t,n,i)}function r(e,t,i,r){var s=r.split(/\s+/);n.each(s,function(n){var r=e[n];e.stopListening(t,i,r)})}function s(e,t,n,i){e.stopListening(t,n,i)}function o(t,i,r,s,o){if(i&&r){if(!n.isObject(r))throw new e.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});r=e._getValue(r,t),n.each(r,function(e,r){n.isFunction(e)?s(t,i,r,e):o(t,i,r,e)})}}e.bindEntityEvents=function(e,n,r){o(e,n,r,i,t)},e.unbindEntityEvents=function(e,t,n){o(e,t,n,s,r)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(s);var a=["description","fileName","lineNumber","name","message","number"];return s.Error=s.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+s.VERSION+"/",constructor:function(e,t){n.isObject(e)?(t=e,e=t.message):t||(t={});var i=Error.call(this,e);n.extend(this,n.pick(i,a),n.pick(t,a)),this.captureStackTrace(),t.url&&(this.url=this.urlRoot+t.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,s.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}}),s.Error.extend=s.extend,s.Callbacks=function(){this._deferred=s.Deferred(),this._callbacks=[]},n.extend(s.Callbacks.prototype,{add:function(e,t){var i=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),i.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=s.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),s.Controller=function(e){this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},s.Controller.extend=s.extend,n.extend(s.Controller.prototype,t.Events,{destroy:function(){return s._triggerMethod(this,"before:destroy",arguments),s._triggerMethod(this,"destroy",arguments),this.stopListening(),this.off(),this},triggerMethod:s.triggerMethod,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption}),s.Object=function(e){this.options=n.extend({},n.result(this,"options"),e),this.initialize.apply(this,arguments)},s.Object.extend=s.extend,n.extend(s.Object.prototype,t.Events,{initialize:function(){},destroy:function(e){return e=e||{},this.triggerMethod("before:destroy",e),this.triggerMethod("destroy",e),this.stopListening(),this},triggerMethod:s.triggerMethod,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.Region=s.Object.extend({constructor:function(e){if(this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,!this.el)throw new s.Error({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),s.Object.call(this,e)},show:function(e,t){if(this._ensureElement()){this._ensureViewIsIntact(e),s.MonitorDOMRefresh(e);var i=t||{},r=e!==this.currentView,o=!!i.preventDestroy,a=!!i.forceShow,h=!!this.currentView,u=r&&!o,c=r||a;if(h&&this.triggerMethod("before:swapOut",this.currentView,this,t),this.currentView&&delete this.currentView._parent,u?this.empty():h&&c&&this.currentView.off("destroy",this.empty,this),c){e.once("destroy",this.empty,this),e._parent=this,this._renderView(e),h&&this.triggerMethod("before:swap",e,this,t),this.triggerMethod("before:show",e,this,t),s.triggerMethodOn(e,"before:show",e,this,t),h&&this.triggerMethod("swapOut",this.currentView,this,t);var l=s.isNodeAttached(this.el),d=[],f=n.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},i);return l&&f.triggerBeforeAttach&&(d=this._displayedViews(e),this._triggerAttach(d,"before:")),this.attachHtml(e),this.currentView=e,l&&f.triggerAttach&&(d=this._displayedViews(e),this._triggerAttach(d)),h&&this.triggerMethod("swap",e,this,t),this.triggerMethod("show",e,this,t),s.triggerMethodOn(e,"show",e,this,t),this}return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(e,t){var i=(t||"")+"attach";n.each(e,function(e){s.triggerMethodOn(e,i,e,this)},this)},_displayedViews:function(e){return n.union([e],n.result(e,"_getNestedViews")||[])},_renderView:function(e){e.supportsRenderLifecycle||s.triggerMethodOn(e,"before:render",e),e.render(),e.supportsRenderLifecycle||s.triggerMethodOn(e,"render",e)},_ensureElement:function(){if(n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),!this.$el||0===this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new s.Error('An "el" '+this.$el.selector+" must exist in DOM")}return!0},_ensureViewIsIntact:function(e){if(!e)throw new s.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(e.isDestroyed)throw new s.Error({name:"ViewDestroyedError",message:'View (cid: "'+e.cid+'") has already been destroyed and cannot be used.'})},getEl:function(e){return t.$(e,s._getValue(this.options.parentEl,this))},attachHtml:function(e){this.$el.contents().detach(),this.el.appendChild(e.el)},empty:function(e){var t=this.currentView,n=e||{},i=!!n.preventDestroy;return t?(t.off("destroy",this.empty,this),this.triggerMethod("before:empty",t),i||this._destroyView(),this.triggerMethod("empty",t),delete this.currentView,i&&this.$el.contents().detach(),this):this},_destroyView:function(){var e=this.currentView;e.isDestroyed||(e.supportsDestroyLifecycle||s.triggerMethodOn(e,"before:destroy",e),e.destroy?e.destroy():(e.remove(),e.isDestroyed=!0),e.supportsDestroyLifecycle||s.triggerMethodOn(e,"destroy",e))},attachView:function(e){return this.currentView&&delete this.currentView._parent,e._parent=this,this.currentView=e,this},hasView:function(){return!!this.currentView},reset:function(){return this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el,this}},{buildRegion:function(e,t){if(n.isString(e))return this._buildRegionFromSelector(e,t);if(e.selector||e.el||e.regionClass)return this._buildRegionFromObject(e,t);if(n.isFunction(e))return this._buildRegionFromRegionClass(e);throw new s.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})},_buildRegionFromSelector:function(e,t){return new t({el:e})},_buildRegionFromObject:function(e,t){var i=e.regionClass||t,r=n.omit(e,"selector","regionClass");return e.selector&&!r.el&&(r.el=e.selector),new i(r)},_buildRegionFromRegionClass:function(e){return new e}}),s.RegionManager=s.Controller.extend({constructor:function(e){this._regions={},this.length=0,s.Controller.call(this,e),this.addRegions(this.getOption("regions"))},addRegions:function(e,t){return e=s._getValue(e,this,arguments),n.reduce(e,function(e,i,r){return n.isString(i)&&(i={selector:i}),i.selector&&(i=n.defaults({},i,t)),e[r]=this.addRegion(r,i),e},{},this)},addRegion:function(e,t){var n;return n=t instanceof s.Region?t:s.Region.buildRegion(t,s.Region),this.triggerMethod("before:add:region",e,n),n._parent=this,this._store(e,n),this.triggerMethod("add:region",e,n),n},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];return this._remove(e,t),t},removeRegions:function(){var e=this.getRegions();return n.each(this._regions,function(e,t){this._remove(t,e)},this),e},emptyRegions:function(){var e=this.getRegions();return n.invoke(e,"empty"),e},destroy:function(){return this.removeRegions(),s.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]||this.length++,this._regions[e]=t},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete t._parent,delete this._regions[e],this.length--,this.triggerMethod("remove:region",e,t)}}),s.actAsCollection(s.RegionManager.prototype,"_regions"),s.TemplateCache=function(e){this.templateId=e},n.extend(s.TemplateCache,{templateCaches:{},get:function(e,t){var n=this.templateCaches[e];return n||(n=new s.TemplateCache(e),this.templateCaches[e]=n),n.load(t)},clear:function(){var e,t=n.toArray(arguments),i=t.length;if(i>0)for(e=0;i>e;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(s.TemplateCache.prototype,{load:function(e){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId,e);return this.compiledTemplate=this.compileTemplate(t,e),this.compiledTemplate},loadTemplate:function(e,n){var i=t.$(e);if(!i.length)throw new s.Error({name:"NoTemplateError",message:'Could not find template: "'+e+'"'});return i.html()},compileTemplate:function(e,t){return n.template(e,t)}}),s.Renderer={render:function(e,t){if(!e)throw new s.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var i=n.isFunction(e)?e:s.TemplateCache.get(e);return i(t)}},s.View=t.View.extend({isDestroyed:!1,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,constructor:function(e){this.render=n.bind(this.render,this),e=s._getValue(e,this),this.options=n.extend({},n.result(this,"options"),e),this._behaviors=s.Behaviors(this),t.View.call(this,this.options),s.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(e){return e.toJSON.apply(e,n.rest(arguments))},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return t=s._getValue(t,this),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"_uiBindings");return s.normalizeUIKeys(e,t||n.result(this,"ui"))},normalizeUIValues:function(e,t){var i=n.result(this,"ui"),r=n.result(this,"_uiBindings");return s.normalizeUIValues(e,r||i,t)},configureTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(n.result(this,"triggers"));return n.reduce(e,function(e,t,n){return e[n]=this._buildViewTrigger(t),e},{},this)}},delegateEvents:function(e){return this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.bindEntityEvents(this.model,e.getOption("modelEvents")),e.bindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_delegateDOMEvents:function(e){var i=s._getValue(e||this.events,this);i=this.normalizeUIKeys(i),n.isUndefined(e)&&(this.events=i);var r={},o=n.result(this,"behaviorEvents")||{},a=this.configureTriggers(),h=n.result(this,"behaviorTriggers")||{};n.extend(r,o,i,a,h),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){return t.View.prototype.undelegateEvents.apply(this,arguments),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents")),n.each(this._behaviors,function(e){e.unbindEntityEvents(this.model,e.getOption("modelEvents")),e.unbindEntityEvents(this.collection,e.getOption("collectionEvents"))},this),this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new s.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'})},destroy:function(){if(this.isDestroyed)return this;var e=n.toArray(arguments);return this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.isRendered=!1,this.remove(),n.invoke(this._behaviors,"destroy",e),this},bindUIElements:function(){this._bindUIElements(),n.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(e,function(e,t){this.ui[t]=this.$(e)},this)}},unbindUIElements:function(){this._unbindUIElements(),n.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(e){var t=n.defaults({},e,{preventDefault:!0,stopPropagation:!0}),i=n.isObject(e)?t.event:e;return function(e){e&&(e.preventDefault&&t.preventDefault&&e.preventDefault(),e.stopPropagation&&t.stopPropagation&&e.stopPropagation());var n={view:this,model:this.model,collection:this.collection};this.triggerMethod(i,n)}},setElement:function(){var e=t.View.prototype.setElement.apply(this,arguments);return n.invoke(this._behaviors,"proxyViewProperties",this),e},triggerMethod:function(){var e=s._triggerMethod(this,arguments);return this._triggerEventOnBehaviors(arguments),this._triggerEventOnParentLayout(arguments[0],n.rest(arguments)),e},_triggerEventOnBehaviors:function(e){for(var t=s._triggerMethod,n=this._behaviors,i=0,r=n&&n.length;r>i;i++)t(n[i],e)},_triggerEventOnParentLayout:function(e,t){var i=this._parentLayoutView();if(i){var r=s.getOption(i,"childViewEventPrefix"),o=r+":"+e,a=[this].concat(t);s._triggerMethod(i,o,a);var h=s.getOption(i,"childEvents");h=s._getValue(h,i);var u=i.normalizeMethods(h);u&&n.isFunction(u[e])&&u[e].apply(i,a)}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var e=this._getImmediateChildren();return e.length?n.reduce(e,function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e},e):e},_parentLayoutView:function(){for(var e=this._parent;e;){if(e instanceof s.LayoutView)return e;e=e._parent}},normalizeMethods:s.normalizeMethods,mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.ItemView=s.View.extend({constructor:function(){s.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var e=[this.model||this.collection];return arguments.length&&e.push.apply(e,arguments),this.model?this.serializeModel.apply(this,e):{items:this.serializeCollection.apply(this,e)}},serializeCollection:function(e){return e.toJSON.apply(e,n.rest(arguments))},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderTemplate(),this.isRendered=!0,this.bindUIElements(),this.triggerMethod("render",this),this},_renderTemplate:function(){var e=this.getTemplate();if(e!==!1){if(!e)throw new s.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var t=this.mixinTemplateHelpers(this.serializeData()),n=s.Renderer.render(e,t,this);return this.attachElContent(n),this}},attachElContent:function(e){return this.$el.html(e),this}}),s.CollectionView=s.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(e){this.once("render",this._initialEvents),this._initChildViewStorage(),s.View.apply(this,arguments),this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled}),this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){var e,t=this._isShown&&s.isNodeAttached(this.el);this.isBuffering=!1,this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show"),t&&this._triggerBeforeAttach&&(e=this._getNestedViews(),this._triggerMethodMany(e,this,"before:attach")),this.attachBuffer(this,this._createBuffer()),t&&this._triggerAttach&&(e=this._getNestedViews(),this._triggerMethodMany(e,this,"attach")),this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"show"),this.initRenderBuffer()},_triggerMethodMany:function(e,t,i){var r=n.drop(arguments,3);n.each(e,function(e){s.triggerMethodOn.apply(e,[e,i,e,t].concat(r))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e,t,i){var r=void 0!==i.at&&(i.index||t.indexOf(e));if((this.getOption("filter")||r===!1)&&(r=n.indexOf(this._filteredSortedModels(r),e)),this._shouldAddChild(e,r)){this.destroyEmptyView();var s=this.getChildView(e);this.addChild(e,s,r)}},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1,this.children.each(function(e){s.triggerMethodOn(e,"before:show",e)})},_onShowCalled:function(){this.children.each(function(e){s.triggerMethodOn(e,"show",e)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.isRendered=!0,this.triggerMethod("render",this),this},reorder:function(){var e=this.children,t=this._filteredSortedModels(),i=n.some(t,function(t){return!e.findByModel(t)});if(i)this.render();else{var r=n.map(t,function(t,n){var i=e.findByModel(t);return i._index=n,i.el}),s=e.filter(function(e){return!n.contains(r,e.el)});this.triggerMethod("before:reorder"),this._appendReorderedChildren(r),n.each(s,this.removeChildView,this),this.checkEmpty(),this.triggerMethod("reorder")}},resortView:function(){s.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var e=this._filteredSortedModels(),t=n.find(e,function(e,t){var n=this.children.findByModel(e);return!n||n._index!==t},this);t&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(e){this.$el.append(e)},_renderChildren:function(){this.destroyEmptyView(),this.destroyChildren({checkEmpty:!1}),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.getOption("filter")&&this.showEmptyView())},showCollection:function(){var e,t=this._filteredSortedModels();n.each(t,function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},_filteredSortedModels:function(e){var t=this.getViewComparator(),i=this.collection.models;if(e=Math.min(Math.max(e,0),i.length-1),t){var r;e&&(r=i[e],i=i.slice(0,e).concat(i.slice(e+1))),i=this._sortModelsBy(i,t),r&&i.splice(e,0,r)}return this.getOption("filter")&&(i=n.filter(i,function(e,t){return this._shouldAddChild(e,t)},this)),i},_sortModelsBy:function(e,t){return"string"==typeof t?n.sortBy(e,function(e){return e.get(t)},this):1===t.length?n.sortBy(e,t,this):e.sort(n.bind(t,this))},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var i,r=this._isShown&&!this.isBuffering&&s.isNodeAttached(this.el),o=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(o)&&(o=o.call(this,e,this._emptyViewIndex));var a=this.buildChildView(e,t,o);a._parent=this,this.proxyChildEvents(a),a.once("render",function(){this._isShown&&s.triggerMethodOn(a,"before:show",a),r&&this._triggerBeforeAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"before:attach"))},this),this.children.add(a),this.renderChildView(a,this._emptyViewIndex),r&&this._triggerAttach&&(i=this._getViewAndNested(a),this._triggerMethodMany(i,this,"attach")),this._isShown&&s.triggerMethodOn(a,"show",a)},getChildView:function(e){var t=this.getOption("childView");if(!t)throw new s.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return t},addChild:function(e,t,n){var i=this.getOption("childViewOptions");i=s._getValue(i,this,[e,n]);var r=this.buildChildView(e,t,i);return this._updateIndices(r,!0,n),this.triggerMethod("before:add:child",r),this._addChildView(r,n),this.triggerMethod("add:child",r),r._parent=this,r},_updateIndices:function(e,t,n){this.getOption("sort")&&(t&&(e._index=n),this.children.each(function(n){n._index>=e._index&&(n._index+=t?1:-1)}))},_addChildView:function(e,t){var n,i=this._isShown&&!this.isBuffering&&s.isNodeAttached(this.el);this.proxyChildEvents(e),e.once("render",function(){this._isShown&&!this.isBuffering&&s.triggerMethodOn(e,"before:show",e),i&&this._triggerBeforeAttach&&(n=this._getViewAndNested(e),this._triggerMethodMany(n,this,"before:attach"))},this),this.children.add(e),this.renderChildView(e,t),i&&this._triggerAttach&&(n=this._getViewAndNested(e),this._triggerMethodMany(n,this,"attach")),this._isShown&&!this.isBuffering&&s.triggerMethodOn(e,"show",e)},renderChildView:function(e,t){return e.supportsRenderLifecycle||s.triggerMethodOn(e,"before:render",e),e.render(),e.supportsRenderLifecycle||s.triggerMethodOn(e,"render",e),this.attachHtml(this,e,t),e},buildChildView:function(e,t,i){var r=n.extend({model:e},i),o=new t(r);return s.MonitorDOMRefresh(o),o},removeChildView:function(e){return e?(this.triggerMethod("before:remove:child",e),e.supportsDestroyLifecycle||s.triggerMethodOn(e,"before:destroy",e),e.destroy?e.destroy():e.remove(),e.supportsDestroyLifecycle||s.triggerMethodOn(e,"destroy",e),delete e._parent,this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1),e):e},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},_createBuffer:function(){var e=document.createDocumentFragment();return n.each(this._bufferedChildren,function(t){e.appendChild(t.el)}),e},attachHtml:function(e,t,n){e.isBuffering?e._bufferedChildren.splice(n,0,t):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n,i=this.getOption("sort")&&t<this.children.length-1;return i&&(n=this.children.find(function(e){return e._index===t+1})),n?(n.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){return this.isDestroyed?this:(this.triggerMethod("before:destroy:collection"),this.destroyChildren({checkEmpty:!1}),this.triggerMethod("destroy:collection"),s.View.prototype.destroy.apply(this,arguments))},destroyChildren:function(e){var t=e||{},i=!0,r=this.children.map(n.identity);return n.isUndefined(t.checkEmpty)||(i=t.checkEmpty),this.children.each(this.removeChildView,this),i&&this.checkEmpty(),r},_shouldAddChild:function(e,t){var i=this.getOption("filter");return!n.isFunction(i)||i.call(this,e,t,this.collection)},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var i=n.toArray(arguments),r=i[0],s=this.normalizeMethods(n.result(this,"childEvents"));i[0]=t+":"+r,i.splice(1,0,e),"undefined"!=typeof s&&n.isFunction(s[r])&&s[r].apply(this,i.slice(1)),this.triggerMethod.apply(this,i)})},_getImmediateChildren:function(){return n.values(this.children._views)},_getViewAndNested:function(e){return[e].concat(n.result(e,"_getNestedViews")||[])},getViewComparator:function(){return this.getOption("viewComparator")}}),s.CompositeView=s.CollectionView.extend({constructor:function(){s.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(e){var t=this.getOption("childView")||this.constructor;return t},serializeData:function(){var e={};return this.model&&(e=n.partial(this.serializeModel,this.model).apply(this,arguments)),e},render:function(){return this._ensureViewIsIntact(),
this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this._renderChildren(),this._isRendering=!1,this.isRendered=!0,this.triggerMethod("render",this),this},_renderChildren:function(){(this.isRendered||this._isRendering)&&s.CollectionView.prototype._renderChildren.call(this)},_renderTemplate:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=s.Renderer.render(t,e,this);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var n=this.getChildViewContainer(e);n.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this,e);t.append(e.el)},_appendReorderedChildren:function(e){var t=this.getChildViewContainer(this);t.append(e)},getChildViewContainer:function(e,t){if(e.$childViewContainer)return e.$childViewContainer;var n,i=s.getOption(e,"childViewContainer");if(i){var r=s._getValue(i,e);if(n="@"===r.charAt(0)&&e.ui?e.ui[r.substr(4)]:e.$(r),n.length<=0)throw new s.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else n=e.$el;return e.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),s.LayoutView=s.ItemView.extend({regionClass:s.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),s.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),s.ItemView.prototype.render.apply(this,arguments)},destroy:function(){return this.isDestroyed?this:(this.getOption("destroyImmediate")===!0&&this.$el.remove(),this.regionManager.destroy(),s.ItemView.prototype.destroy.apply(this,arguments))},showChildView:function(e,t,i){var r=this.getRegion(e);return r.show.apply(r,n.rest(arguments))},getChildView:function(e){return this.getRegion(e).currentView},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t={regionClass:this.getOption("regionClass"),parentEl:n.partial(n.result,this,"el")};return this.regionManager.addRegions(e,t)},_initializeRegions:function(e){var t;this._initRegionManager(),t=s._getValue(this.regions,this,[e])||{};var i=this.getOption.call(e,"regions");i=s._getValue(i,this,[e]),n.extend(t,i),t=this.normalizeUIValues(t,["selector","el"]),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},getRegionManager:function(){return new s.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.regionManager._parent=this,this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},_getImmediateChildren:function(){return n.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}}),s.Behavior=s.Object.extend({constructor:function(e,t){this.view=t,this.defaults=n.result(this,"defaults")||{},this.options=n.extend({},this.defaults,e),this.ui=n.extend({},n.result(t,"ui"),n.result(this,"ui")),s.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this},proxyViewProperties:function(e){this.$el=e.$el,this.el=e.el}}),s.Behaviors=function(e,t){function n(e,i){return t.isObject(e.behaviors)?(i=n.parseBehaviors(e,i||t.result(e,"behaviors")),n.wrap(e,i,t.keys(o)),i):{}}function i(e,t){this._view=e,this._behaviors=t,this._triggers={}}function r(e){return e._uiBindings||e.ui}var s=/^(\S+)\s*(.*)$/,o={behaviorTriggers:function(e,t){var n=new i(this,t);return n.buildBehaviorTriggers()},behaviorEvents:function(n,i){var o={};return t.each(i,function(n,i){var a={},h=t.clone(t.result(n,"events"))||{};h=e.normalizeUIKeys(h,r(n));var u=0;t.each(h,function(e,r){var o=r.match(s),h=o[1]+"."+[this.cid,i,u++," "].join(""),c=o[2],l=h+c,d=t.isFunction(e)?e:n[e];a[l]=t.bind(d,n)},this),o=t.extend(o,a)},this),o}};return t.extend(n,{behaviorsLookup:function(){throw new e.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"})},getBehaviorClass:function(t,i){return t.behaviorClass?t.behaviorClass:e._getValue(n.behaviorsLookup,this,[t,i])[i]},parseBehaviors:function(e,i){return t.chain(i).map(function(i,r){var s=n.getBehaviorClass(i,r),o=new s(i,e),a=n.parseBehaviors(e,t.result(o,"behaviors"));return[o].concat(a)}).flatten().value()},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(o[i],e[i],n)})}}),t.extend(i.prototype,{buildBehaviorTriggers:function(){return t.each(this._behaviors,this._buildTriggerHandlersForBehavior,this),this._triggers},_buildTriggerHandlersForBehavior:function(n,i){var s=t.clone(t.result(n,"triggers"))||{};s=e.normalizeUIKeys(s,r(n)),t.each(s,t.bind(this._setHandlerForBehavior,this,n,i))},_setHandlerForBehavior:function(e,t,n,i){var r=i.replace(/^\S+/,function(e){return e+".behaviortriggers"+t});this._triggers[r]=this._view._buildViewTrigger(n)}}),n}(s,n),s.AppRouter=t.Router.extend({constructor:function(e){this.options=e||{},t.Router.apply(this,arguments);var n=this.getOption("appRoutes"),i=this._getController();this.processAppRoutes(i,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){if(n.isFunction(this.onRoute)){var i=n.invert(this.getOption("appRoutes"))[e];this.onRoute(e,i,t)}},processAppRoutes:function(e,t){if(t){var i=n.keys(t).reverse();n.each(i,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,i){var r=e[i];if(!r)throw new s.Error('Method "'+i+'" was not found on the controller');this.route(t,i,n.bind(r,e))},mergeOptions:s.mergeOptions,getOption:s.proxyGetOption,triggerMethod:s.triggerMethod,bindEntityEvents:s.proxyBindEntityEvents,unbindEntityEvents:s.proxyUnbindEntityEvents}),s.Application=s.Object.extend({constructor:function(e){this._initializeRegions(e),this._initCallbacks=new s.Callbacks,this.submodules={},n.extend(this,e),this._initChannel(),s.Object.apply(this,arguments)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(e){return this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var i=s.Module.getClass(t),r=n.toArray(arguments);return r.unshift(this),i.create.apply(i,r)},getRegionManager:function(){return new s.RegionManager},_initializeRegions:function(e){var t=n.isFunction(this.regions)?this.regions(e):this.regions||{};this._initRegionManager();var i=s.getOption(e,"regions");return n.isFunction(i)&&(i=i.call(this,e)),n.extend(t,i),this.addRegions(t),this},_initRegionManager:function(){this._regionManager=this.getRegionManager(),this._regionManager._parent=this,this.listenTo(this._regionManager,"before:add:region",function(){s._triggerMethod(this,"before:add:region",arguments)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,s._triggerMethod(this,"add:region",arguments)}),this.listenTo(this._regionManager,"before:remove:region",function(){s._triggerMethod(this,"before:remove:region",arguments)}),this.listenTo(this._regionManager,"remove:region",function(e){delete this[e],s._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=n.result(this,"channelName")||"global",this.channel=n.result(this,"channel")||t.Wreqr.radio.channel(this.channelName),this.vent=n.result(this,"vent")||this.channel.vent,this.commands=n.result(this,"commands")||this.channel.commands,this.reqres=n.result(this,"reqres")||this.channel.reqres}}),s.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},s.Module.extend=s.extend,n.extend(s.Module.prototype,t.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,this.triggerMethod("before:stop"),n.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var r=n.flatten([this,this.app,t,s,t.$,n,i]);e.apply(this,r)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new s.Callbacks,this._finalizerCallbacks=new s.Callbacks},triggerMethod:s.triggerMethod}),n.extend(s.Module,{create:function(e,t,i){var r=e,s=n.drop(arguments,3);t=t.split(".");var o=t.length,a=[];return a[o-1]=i,n.each(t,function(t,n){var o=r;r=this._getModule(o,t,e,i),this._addModuleDefinition(o,r,a[n],s)},this),r},_getModule:function(e,t,i,r,s){var o=n.extend({},r),a=this.getClass(r),h=e[t];return h||(h=new a(t,i,o),e[t]=h,e.submodules[t]=h),h},getClass:function(e){var t=s.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,i){var r=this._getDefine(n),s=this._getStartWithParent(n,t);r&&t.addDefinition(r,i),this._addStartWithParent(e,t,s)},_getStartWithParent:function(e,t){var i;return n.isFunction(e)&&e.prototype instanceof s.Module?(i=t.constructor.prototype.startWithParent,n.isUndefined(i)?!0:i):n.isObject(e)?(i=e.startWithParent,n.isUndefined(i)?!0:i):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof s.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}}),s})},{"./../../../../assets/js/src/admin/vendor/backbone-shim.js":33,"./../../../../assets/js/src/admin/vendor/underscore-shim.js":39,"backbone.babysitter":40,"backbone.wreqr":45}],42:[function(t,n,i){!function(r,s){"object"==typeof i&&"undefined"!=typeof n?n.exports=s(t("./../../../assets/js/src/admin/vendor/underscore-shim.js"),t("./../../../assets/js/src/admin/vendor/backbone-shim.js")):"function"==typeof e&&e.amd?e(["underscore","backbone"],s):r.Backbone.Radio=s(r._,r.Backbone)}(this,function(e,t){"use strict";function n(e,t,n,i){var r=e[t];return n&&n!==r.callback&&n!==r.callback._callback||i&&i!==r.context?void 0:(delete e[t],!0)}function i(t,i,r,s){t||(t={});for(var o=i?[i]:e.keys(t),a=!1,h=0,u=o.length;u>h;h++)i=o[h],t[i]&&n(t,i,r,s)&&(a=!0);return a}function r(t){return u[t]||(u[t]=e.partial(a.log,t))}function s(t){return e.isFunction(t)?t:function(){return t}}var o=t.Radio,a=t.Radio={};a.VERSION="1.0.2",a.noConflict=function(){return t.Radio=o,this},a.DEBUG=!1,a._debugText=function(e,t,n){return e+(n?" on the "+n+" channel":"")+': "'+t+'"'},a.debugLog=function(e,t,n){a.DEBUG&&console&&console.warn&&console.warn(a._debugText(e,t,n))};var h=/\s+/;a._eventsApi=function(t,n,i,r){if(!i)return!1;var s={};if("object"==typeof i){for(var o in i){var a=t[n].apply(t,[o,i[o]].concat(r));h.test(o)?e.extend(s,a):s[o]=a}return s}if(h.test(i)){for(var u=i.split(h),c=0,l=u.length;l>c;c++)s[u[c]]=t[n].apply(t,[u[c]].concat(r));return s}return!1},a._callHandler=function(e,t,n){var i=n[0],r=n[1],s=n[2];switch(n.length){case 0:return e.call(t);case 1:return e.call(t,i);case 2:return e.call(t,i,r);case 3:return e.call(t,i,r,s);default:return e.apply(t,n)}};var u={};e.extend(a,{log:function(t,n){var i=e.rest(arguments,2);console.log("["+t+'] "'+n+'"',i)},tuneIn:function(e){var t=a.channel(e);return t._tunedIn=!0,t.on("all",r(e)),this},tuneOut:function(e){var t=a.channel(e);return t._tunedIn=!1,t.off("all",r(e)),delete u[e],this}}),a.Requests={request:function(t){var n=e.rest(arguments),i=a._eventsApi(this,"request",t,n);if(i)return i;var r=this.channelName,s=this._requests;if(r&&this._tunedIn&&a.log.apply(this,[r,t].concat(n)),s&&(s[t]||s["default"])){var o=s[t]||s["default"];return n=s[t]?n:arguments,a._callHandler(o.callback,o.context,n)}a.debugLog("An unhandled request was fired",t,r)},reply:function(e,t,n){return a._eventsApi(this,"reply",e,[t,n])?this:(this._requests||(this._requests={}),this._requests[e]&&a.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:s(t),context:n||this},this)},replyOnce:function(t,n,i){if(a._eventsApi(this,"replyOnce",t,[n,i]))return this;var r=this,o=e.once(function(){return r.stopReplying(t),s(n).apply(this,arguments)});return this.reply(t,o,i)},stopReplying:function(e,t,n){return a._eventsApi(this,"stopReplying",e)?this:(e||t||n?i(this._requests,e,t,n)||a.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},a._channels={},a.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return a._channels[e]?a._channels[e]:a._channels[e]=new a.Channel(e)},a.Channel=function(e){this.channelName=e},e.extend(a.Channel.prototype,t.Events,a.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var c,l,d=[t.Events,a.Commands,a.Requests];e.each(d,function(t){e.each(t,function(t,n){a[n]=function(t){return l=e.rest(arguments),c=this.channel(t),c[n].apply(c,l)}})}),a.reset=function(t){var n=t?[this._channels[t]]:this._channels;e.invoke(n,"reset")};var f=a;return f})},{"./../../../assets/js/src/admin/vendor/backbone-shim.js":33,"./../../../assets/js/src/admin/vendor/underscore-shim.js":39}],43:[function(t,n,i){!function(n){"function"==typeof e&&e.amd?e(["underscore","backbone","exports"],n):"object"==typeof i?n(t("./../../assets/js/src/admin/vendor/underscore-shim.js"),t("./../../assets/js/src/admin/vendor/backbone-shim.js"),i):n(_,Backbone,{})}(function(e,t,n){t.Stickit=n,n._handlers=[],n.addHandler=function(t){t=e.map(e.flatten([t]),function(t){return e.defaults({},t,{updateModel:!0,updateView:!0,updateMethod:"text"})}),this._handlers=this._handlers.concat(t)},n.ViewMixin={_modelBindings:null,unstickit:function(t,n){if(e.isObject(n))return void e.each(n,function(e,n){this.unstickit(t,n)},this);var i=[],r=[];this._modelBindings=e.reject(this._modelBindings,function(e){return t&&e.model!==t||n&&e.config.selector!=n?void 0:(e.model.off(e.event,e.fn),r.push(e.config._destroy),i.push(e.model),!0)}),e.invoke(e.uniq(i),"trigger","stickit:unstuck",this.cid),e.each(e.uniq(r),function(e){e.call(this)},this),this.$el.off(".stickit"+(t?"."+t.cid:""),n)},stickit:function(t,n){var i=t||this.model,r=n||e.result(this,"bindings")||{};this._modelBindings||(this._modelBindings=[]),this.addBinding(i,r);var s=this.remove;return s.stickitWrapped||(this.remove=function(){var e=this;return this.unstickit(),s&&(e=s.apply(this,arguments)),e}),this.remove.stickitWrapped=!0,this},addBinding:function(t,n,r){var g=t||this.model,m=".stickit."+g.cid;if(r=r||{},e.isObject(n)){var v=n;return void e.each(v,function(e,t){this.addBinding(g,t,e)},this)}var _=":el"===n?this.$el:this.$(n);if(this.unstickit(g,n),_.length){e.isString(r)&&(r={observe:r}),e.isFunction(r.observe)&&(r.observe=r.observe.call(this));var y=c(_,r),b=y.observe;y.selector=n,y.view=this;var w=y.bindId=e.uniqueId(),M=e.extend({stickitChange:y},y.setOptions);if(y._destroy=function(){s.call(this,y.destroy,_,g,y)},l(_,y,g,b),f(_,y,g,b),d(_,y,g,b),b){e.each(y.events,function(t){var r=t+m,a=function(e){var t=s.call(this,y.getVal,_,e,y,i.call(arguments,1)),n=o(y.updateModel,t,e,y);n&&h(g,b,t,M,y)},u=":el"===n?"":n;this.$el.on(r,u,e.bind(a,this))},this),e.each(e.flatten([b]),function(e){a(g,"change:"+e,y,function(e,t,n){var i=n&&n.stickitChange&&n.stickitChange.bindId;if(i!==w){var r=u(g,b,y);p(_,y,r,g)}})});var x=u(g,b,y);p(_,y,x,g,!0)}s.call(this,y.initialize,_,g,y)}}},e.extend(t.View.prototype,n.ViewMixin);var i=[].slice,r=function(t,n){var i=(n||"").split("."),r=e.reduce(i,function(e,t){return e[t]},t);return null==r?t:r},s=function(t){return t=e.isString(t)?r(this,t):t,t?t.apply(this,i.call(arguments,1)):void 0},o=function(t,n,i){if(e.isBoolean(t))return t;if(e.isFunction(t)||e.isString(t)){var r=e.last(arguments).view;return s.apply(r,arguments)}return!1},a=function(e,t,n,i){var r=n.view;e.on(t,i,r),r._modelBindings.push({model:e,event:t,fn:i,config:n})},h=function(t,n,i,r,o){var a={},h=o.view;o.onSet&&(i=s.call(h,o.onSet,i,o)),o.set?s.call(h,o.set,n,i,r,o):(a[n]=i,e.isArray(n)&&e.isArray(i)&&(a=e.reduce(n,function(t,n,r){return t[n]=e.has(i,r)?i[r]:null,t},{})),t.set(a,r))},u=function(t,n,i){var r=i.view,o=function(e){return t[i.escape?"escape":"get"](e)},a=function(e){return null==e?"":e},h=e.isArray(n)?e.map(n,o):o(n);return i.onGet&&(h=s.call(r,i.onGet,h,i)),e.isArray(h)?e.map(h,a):a(h)},c=n.getConfiguration=function(t,i){var r=[{updateModel:!1,updateMethod:"text",update:function(e,t,n,i){e[i.updateMethod]&&e[i.updateMethod](t)},getVal:function(e,t,n){return e[n.updateMethod]()}}];r=r.concat(e.filter(n._handlers,function(e){return t.is(e.selector)})),r.push(i);var s=e.extend.apply(e,r);return e.has(s,"updateView")||(s.updateView=!s.visible),s},l=function(t,n,i,r){var s=["autofocus","autoplay","async","checked","controls","defer","disabled","hidden","indeterminate","loop","multiple","open","readonly","required","scoped","selected"],o=n.view;e.each(n.attributes||[],function(h){h=e.clone(h),h.view=o;var c="",l=h.observe||(h.observe=r),d=function(){var n=e.contains(s,h.name)?"prop":"attr",r=u(i,l,h);"class"===h.name?(t.removeClass(c).addClass(r),c=r):t[n](h.name,r)};e.each(e.flatten([l]),function(e){a(i,"change:"+e,n,d)}),d()})},d=function(t,n,i,r){e.each(n.classes||[],function(r,s){e.isString(r)&&(r={observe:r}),r.view=n.view;var o=r.observe,h=function(){var e=u(i,o,r);t.toggleClass(s,!!e)};e.each(e.flatten([o]),function(e){a(i,"change:"+e,n,h)}),h()})},f=function(t,n,i,r){if(null!=n.visible){var o=n.view,h=function(){var a=n.visible,h=n.visibleFn,c=u(i,r,n),l=!!c;(e.isFunction(a)||e.isString(a))&&(l=!!s.call(o,a,c,n)),h?s.call(o,h,t,l,n):t.toggle(l)};e.each(e.flatten([r]),function(e){a(i,"change:"+e,n,h)}),h()}},p=function(e,t,n,i,r){var a=t.view;o(t.updateView,n,t)&&(s.call(a,t.update,e,n,i,t),r||s.call(a,t.afterUpdate,e,n,t))};return n.addHandler([{selector:"[contenteditable]",updateMethod:"html",events:["input","change"]},{selector:"input",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:"textarea",events:["propertychange","input","change"],update:function(e,t){e.val(t)},getVal:function(e){return e.val()}},{selector:'input[type="radio"]',events:["change"],update:function(e,t){e.filter('[value="'+t+'"]').prop("checked",!0)},getVal:function(e){return e.filter(":checked").val()}},{selector:'input[type="checkbox"]',events:["change"],update:function(n,i,r,s){if(n.length>1)i||(i=[]),n.each(function(n,r){var s=t.$(r),o=e.contains(i,s.val());s.prop("checked",o)});else{var o=e.isBoolean(i)?i:i===n.val();n.prop("checked",o)}},getVal:function(n){var i;if(n.length>1)i=e.reduce(n,function(e,n){var i=t.$(n);return i.prop("checked")&&e.push(i.val()),e},[]);else{i=n.prop("checked");var r=n.val();"on"!==r&&null!=r&&(i=i?n.val():null)}return i}},{selector:"select",events:["change"],update:function(n,i,o,a){var h,c=a.selectOptions,l=c&&c.collection||void 0,d=n.prop("multiple");if(!c){c={};var f=function(e){return e.map(function(e,n){var i=t.$(n).data("stickit-bind-val");return{value:void 0!==i?i:n.value,label:n.text}}).get()};n.find("optgroup").length?(l={opt_labels:[]},n.find("> option").length&&(l.opt_labels.push(void 0),e.each(n.find("> option"),function(e){l[void 0]=f(t.$(e))})),e.each(n.find("optgroup"),function(e){var n=t.$(e).attr("label");l.opt_labels.push(n),l[n]=f(t.$(e).find("option"))})):l=f(n.find("option"))}c.valuePath=c.valuePath||"value",c.labelPath=c.labelPath||"label",c.disabledPath=c.disabledPath||"disabled";var p=function(n,i,s){e.each(n,function(n){var o,a,h,u=t.$("<option/>"),l=n,f=function(t,n,i){u.text(t),l=n,u.data("stickit-bind-val",l),e.isArray(l)||e.isObject(l)||u.val(l),i===!0&&u.prop("disabled","disabled")};"__default__"===n?(o=s.label,a=s.value,h=s.disabled):(o=r(n,c.labelPath),a=r(n,c.valuePath),h=r(n,c.disabledPath)),f(o,a,h);var p=function(){return d||null==l||null==s||l!==s?e.isObject(s)&&e.isEqual(l,s)?!0:!1:!0};p()?u.prop("selected",!0):d&&e.isArray(s)&&e.each(s,function(t){e.isObject(t)&&(t=r(t,c.valuePath)),(t===l||e.isObject(t)&&e.isEqual(l,t))&&u.prop("selected",!0)}),i.append(u)})};if(n.find("*").remove(),e.isString(l)){var g=window;0===l.indexOf("this.")&&(g=this),l=l.replace(/^[a-z]*\.(.+)$/,"$1"),h=r(g,l)}else h=e.isFunction(l)?s.call(this,l,n,a):l;if(h instanceof t.Collection){var m=h,v=function(){var e=u(o,a.observe,a);s.call(this,a.update,n,e,o,a)},_=function(){m.off("add remove reset sort",v)},y=function(){_(),m.off("stickit:selectRefresh"),o.off("stickit:selectRefresh")};m.trigger("stickit:selectRefresh"),m.once("stickit:selectRefresh",_,this),m.on("add remove reset sort",v,this),o.trigger("stickit:selectRefresh"),o.once("stickit:selectRefresh",function(){o.off("stickit:unstuck",y)}),o.once("stickit:unstuck",y,this),h=h.toJSON()}if(c.defaultOption){var b=e.isFunction(c.defaultOption)?c.defaultOption.call(this,n,a):c.defaultOption;p(["__default__"],n,b)}if(e.isArray(h))p(h,n,i);else if(h.opt_labels)e.each(h.opt_labels,function(e){var r=t.$("<optgroup/>").attr("label",e);p(h[e],r,i),n.append(r)});else{var w,M=[];for(var x in h)w={},w[c.valuePath]=x,w[c.labelPath]=h[x],M.push(w);M=e.sortBy(M,c.comparator||c.labelPath),p(M,n,i)}},getVal:function(n){var i=n.find("option:selected");return n.prop("multiple")?e.map(i,function(e){return t.$(e).data("stickit-bind-val")}):i.data("stickit-bind-val")}}]),n})},{"./../../assets/js/src/admin/vendor/backbone-shim.js":33,"./../../assets/js/src/admin/vendor/underscore-shim.js":39}],44:[function(t,n,i){!function(t,i){"undefined"!=typeof n&&n.exports?n.exports=i():"function"==typeof e&&e.amd?e(i):this[t]=i()}("bowser",function(){function e(e){function n(t){var n=e.match(t);return n&&n.length>1&&n[1]||""}function i(t){var n=e.match(t);return n&&n.length>1&&n[2]||""}var r,s=n(/(ipod|iphone|ipad)/i).toLowerCase(),o=/like android/i.test(e),a=!o&&/android/i.test(e),h=/CrOS/.test(e),u=n(/edge\/(\d+(\.\d+)?)/i),c=n(/version\/(\d+(\.\d+)?)/i),l=/tablet/i.test(e),d=!l&&/[^-]mobi/i.test(e);/opera|opr/i.test(e)?r={name:"Opera",opera:t,version:c||n(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(e)?r={name:"Yandex Browser",yandexbrowser:t,version:c||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(e)?(r={name:"Windows Phone",windowsphone:t},u?(r.msedge=t,r.version=u):(r.msie=t,r.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(e)?r={name:"Internet Explorer",msie:t,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:h?r={name:"Chrome",chromeBook:t,chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/chrome.+? edge/i.test(e)?r={name:"Microsoft Edge",msedge:t,version:u}:/chrome|crios|crmo/i.test(e)?r={name:"Chrome",chrome:t,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?(r={name:"iphone"==s?"iPhone":"ipad"==s?"iPad":"iPod"},c&&(r.version=c)):/sailfish/i.test(e)?r={name:"Sailfish",sailfish:t,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(e)?r={name:"SeaMonkey",seamonkey:t,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(e)?(r={name:"Firefox",firefox:t,version:n(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(e)&&(r.firefoxos=t)):/silk/i.test(e)?r={name:"Amazon Silk",silk:t,version:n(/silk\/(\d+(\.\d+)?)/i)}:a?r={name:"Android",version:c}:/phantom/i.test(e)?r={name:"PhantomJS",phantom:t,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(e)||/rim\stablet/i.test(e)?r={name:"BlackBerry",blackberry:t,version:c||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(e)?(r={name:"WebOS",webos:t,version:c||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(e)&&(r.touchpad=t)):r=/bada/i.test(e)?{name:"Bada",bada:t,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(e)?{name:"Tizen",tizen:t,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||c}:/safari/i.test(e)?{name:"Safari",safari:t,version:c}:{name:n(/^(.*)\/(.*) /),version:i(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(e)?(r.name=r.name||"Webkit",r.webkit=t,!r.version&&c&&(r.version=c)):!r.opera&&/gecko\//i.test(e)&&(r.name=r.name||"Gecko",r.gecko=t,r.version=r.version||n(/gecko\/(\d+(\.\d+)?)/i)),r.msedge||!a&&!r.silk?s&&(r[s]=t,r.ios=t):r.android=t;var f="";r.windowsphone?f=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):s?(f=n(/os (\d+([_\s]\d+)*) like mac os x/i),f=f.replace(/[_\s]/g,".")):a?f=n(/android[ \/-](\d+(\.\d+)*)/i):r.webos?f=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?f=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?f=n(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(f=n(/tizen[\/\s](\d+(\.\d+)*)/i)),f&&(r.osversion=f);var p=f.split(".")[0];return l||"ipad"==s||a&&(3==p||4==p&&!d)||r.silk?r.tablet=t:(d||"iphone"==s||"ipod"==s||a||r.blackberry||r.webos||r.bada)&&(r.mobile=t),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.chrome&&r.version>=20||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1?r.a=t:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6?r.c=t:r.x=t,r}var t=!0,n=e("undefined"!=typeof navigator?navigator.userAgent:"");return n.test=function(e){for(var t=0;t<e.length;++t){var i=e[t];if("string"==typeof i&&i in n)return!0}return!1},n._detect=e,n})},{}],45:[function(e,t,n){arguments[4][29][0].apply(n,arguments)},{dup:29}],46:[function(t,n,i){!function(t){function r(e,t){this.list=e,this.options=t=t||{};var n,i,s,o;for(n=0,o=["sort","shouldSort"],i=o.length;i>n;n++)s=o[n],this.options[s]=s in t?t[s]:r.defaultOptions[s];for(n=0,o=["searchFn","sortFn","keys","getFn","include"],i=o.length;i>n;n++)s=o[n],this.options[s]=t[s]||r.defaultOptions[s]}var s=function(e,t){if(t=t||{},this.options=t,this.options.location=t.location||s.defaultOptions.location,this.options.distance="distance"in t?t.distance:s.defaultOptions.distance,this.options.threshold="threshold"in t?t.threshold:s.defaultOptions.threshold,this.options.maxPatternLength=t.maxPatternLength||s.defaultOptions.maxPatternLength,this.pattern=t.caseSensitive?e:e.toLowerCase(),this.patternLen=e.length,this.patternLen>this.options.maxPatternLength)throw new Error("Pattern length is too long");this.matchmask=1<<this.patternLen-1,this.patternAlphabet=this._calculatePatternAlphabet()};s.defaultOptions={location:0,distance:100,threshold:.6,maxPatternLength:32},s.prototype._calculatePatternAlphabet=function(){var e={},t=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]=0;for(t=0;t<this.patternLen;t++)e[this.pattern.charAt(t)]|=1<<this.pattern.length-t-1;return e},s.prototype._bitapScore=function(e,t){var n=e/this.patternLen,i=Math.abs(this.options.location-t);return this.options.distance?n+i/this.options.distance:i?1:n},s.prototype.search=function(e){if(e=this.options.caseSensitive?e:e.toLowerCase(),this.pattern===e)return{isMatch:!0,score:0};var t,n,i,r,s,o,a,h,u,c=e.length,l=this.options.location,d=this.options.threshold,f=e.indexOf(this.pattern,l),p=this.patternLen+c,g=1,m=[];for(-1!=f&&(d=Math.min(this._bitapScore(0,f),d),f=e.lastIndexOf(this.pattern,l+this.patternLen),-1!=f&&(d=Math.min(this._bitapScore(0,f),d))),f=-1,t=0;t<this.patternLen;t++){for(i=0,r=p;r>i;)this._bitapScore(t,l+r)<=d?i=r:p=r,r=Math.floor((p-i)/2+i);for(p=r,s=Math.max(1,l-r+1),o=Math.min(l+r,c)+this.patternLen,a=Array(o+2),a[o+1]=(1<<t)-1,n=o;n>=s;n--)if(u=this.patternAlphabet[e.charAt(n-1)],0===t?a[n]=(a[n+1]<<1|1)&u:a[n]=(a[n+1]<<1|1)&u|((h[n+1]|h[n])<<1|1)|h[n+1],a[n]&this.matchmask&&(g=this._bitapScore(t,n-1),d>=g)){if(d=g,f=n-1,m.push(f),!(f>l))break;s=Math.max(1,2*l-f)}if(this._bitapScore(t+1,l)>d)break;h=a}return{isMatch:f>=0,score:g}};var o=function(e,t,n){var i,r,s;if(t){s=t.indexOf("."),-1!==s?(i=t.slice(0,s),r=t.slice(s+1)):i=t;var h=e[i];if(h)if(r||"string"!=typeof h&&"number"!=typeof h)if(a.isArray(h))for(var u=0,c=h.length;c>u;u++)o(h[u],r,n);else r&&o(h,r,n);else n.push(h)}else n.push(e);return n},a={deepValue:function(e,t){return o(e,t,[])},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}};r.defaultOptions={id:null,caseSensitive:!1,include:[],shouldSort:!0,searchFn:s,sortFn:function(e,t){return e.score-t.score},getFn:a.deepValue,keys:[]},r.prototype.set=function(e){return this.list=e,e},r.prototype.search=function(e){var t,n,i,r,s=new this.options.searchFn(e,this.options),o=this.list,h=o.length,u=this.options,c=this.options.keys,l=c.length,d=[],f={},p=[],g=function(e,t,n){if(void 0!==e&&null!==e)if("string"==typeof e)i=s.search(e),i.isMatch&&(r=f[n],r?r.score=Math.min(r.score,i.score):(f[n]={item:t,score:i.score},d.push(f[n])));else if(a.isArray(e))for(var o=0;o<e.length;o++)g(e[o],t,n)};if("string"==typeof o[0])for(var m=0;h>m;m++)g(o[m],m,m);else for(var m=0;h>m;m++)for(n=o[m],t=0;l>t;t++)g(u.getFn(n,c[t]),n,m);u.shouldSort&&d.sort(u.sortFn);for(var v=u.id?function(e){d[e].item=u.getFn(d[e].item,u.id)[0]}:function(){},_=function(e){var t;if(u.include.length>0){t={item:d[e].item};for(var n=0;n<u.include.length;n++){var i=u.include[n];t[i]=d[e][i]}}else t=d[e].item;return t},m=0,y=d.length;y>m;m++)v(m),p.push(_(m));return p},"object"==typeof i?n.exports=r:"function"==typeof e&&e.amd?e(function(){return r}):t.Fuse=r}(this)},{}],47:[function(t,n,i){!function(t,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof e&&e.amd?e(r):t.moment=r()}(this,function(){"use strict";function e(){return jn.apply(null,arguments)}function i(e){jn=e}function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function o(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),
e}function u(e,t,n,i){return Te(e,t,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(e){return null==e._pf&&(e._pf=c()),e._pf}function d(e){if(null==e._isValid){var t=l(e);e._isValid=!(isNaN(e._d.getTime())||!(t.overflow<0)||t.empty||t.invalidMonth||t.invalidWeekday||t.nullInput||t.invalidFormat||t.userInvalidated),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function f(e){var t=u(NaN);return null!=e?h(l(t),e):l(t).userInvalidated=!0,t}function p(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=l(t)),"undefined"!=typeof t._locale&&(e._locale=t._locale),Nn.length>0)for(n in Nn)i=Nn[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function g(t){p(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),Fn===!1&&(Fn=!0,e.updateOffset(this),Fn=!1)}function m(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function v(e){return 0>e?Math.ceil(e):Math.floor(e)}function _(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=v(t)),n}function y(e,t,n){var i,r=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&_(e[i])!==_(t[i]))&&o++;return o+s}function b(){}function w(e){return e?e.toLowerCase().replace("_","-"):e}function M(e){for(var t,n,i,r,s=0;s<e.length;){for(r=w(e[s]).split("-"),t=r.length,n=w(e[s+1]),n=n?n.split("-"):null;t>0;){if(i=x(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&y(r,n,!0)>=t-1)break;t--}s++}return null}function x(e){var i=null;if(!Ln[e]&&"undefined"!=typeof n&&n&&n.exports)try{i=Bn._abbr,t("./locale/"+e),C(i)}catch(r){}return Ln[e]}function C(e,t){var n;return e&&(n="undefined"==typeof t?D(e):k(e,t),n&&(Bn=n)),Bn._abbr}function k(e,t){return null!==t?(t.abbr=e,Ln[e]=Ln[e]||new b,Ln[e].set(t),C(e),Ln[e]):(delete Ln[e],null)}function D(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Bn;if(!r(e)){if(t=x(e))return t;e=[e]}return M(e)}function S(e,t){var n=e.toLowerCase();Pn[n]=Pn[n+"s"]=Pn[t]=e}function O(e){return"string"==typeof e?Pn[e]||Pn[e.toLowerCase()]:void 0}function E(e){var t,n,i={};for(n in e)a(e,n)&&(t=O(n),t&&(i[t]=e[n]));return i}function T(t,n){return function(i){return null!=i?(V(this,t,i),e.updateOffset(this,n),this):R(this,t)}}function R(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function V(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function A(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=O(e),"function"==typeof this[e])return this[e](t);return this}function I(e,t,n){var i=""+Math.abs(e),r=t-i.length,s=e>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function Y(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Hn[e]=r),t&&(Hn[t[0]]=function(){return I(r.apply(this,arguments),t[1],t[2])}),n&&(Hn[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function j(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,i=e.match(Un);for(t=0,n=i.length;n>t;t++)Hn[i[t]]?i[t]=Hn[i[t]]:i[t]=j(i[t]);return function(r){var s="";for(t=0;n>t;t++)s+=i[t]instanceof Function?i[t].call(r,e):i[t];return s}}function N(e,t){return e.isValid()?(t=F(t,e.localeData()),Wn[t]=Wn[t]||B(t),Wn[t](e)):e.localeData().invalidDate()}function F(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(zn.lastIndex=0;i>=0&&zn.test(e);)e=e.replace(zn,n),zn.lastIndex=0,i-=1;return e}function L(e){return"function"==typeof e&&"[object Function]"===Object.prototype.toString.call(e)}function P(e,t,n){oi[e]=L(t)?t:function(e){return e&&n?n:t}}function U(e,t){return a(oi,e)?oi[e](t._strict,t._locale):new RegExp(z(e))}function z(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function W(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=_(e)}),n=0;n<e.length;n++)ai[e[n]]=i}function H(e,t){W(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function G(e,t,n){null!=t&&a(ai,e)&&ai[e](t,n._a,n,e)}function $(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function q(e){return this._months[e.month()]}function J(e){return this._monthsShort[e.month()]}function Z(e,t,n){var i,r,s;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function K(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),$(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function Q(t){return null!=t?(K(this,t),e.updateOffset(this,!0),this):R(this,"Month")}function X(){return $(this.year(),this.month())}function ee(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[ui]<0||n[ui]>11?ui:n[ci]<1||n[ci]>$(n[hi],n[ui])?ci:n[li]<0||n[li]>24||24===n[li]&&(0!==n[di]||0!==n[fi]||0!==n[pi])?li:n[di]<0||n[di]>59?di:n[fi]<0||n[fi]>59?fi:n[pi]<0||n[pi]>999?pi:-1,l(e)._overflowDayOfYear&&(hi>t||t>ci)&&(t=ci),l(e).overflow=t),e}function te(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function ne(e,t){var n=!0;return h(function(){return n&&(te(e+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}function ie(e,t){vi[e]||(te(t),vi[e]=!0)}function re(e){var t,n,i=e._i,r=_i.exec(i);if(r){for(l(e).iso=!0,t=0,n=yi.length;n>t;t++)if(yi[t][1].exec(i)){e._f=yi[t][0];break}for(t=0,n=bi.length;n>t;t++)if(bi[t][1].exec(i)){e._f+=(r[6]||" ")+bi[t][0];break}i.match(ii)&&(e._f+="Z"),xe(e)}else e._isValid=!1}function se(t){var n=wi.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(re(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function oe(e,t,n,i,r,s,o){var a=new Date(e,t,n,i,r,s,o);return 1970>e&&a.setFullYear(e),a}function ae(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function he(e){return ue(e)?366:365}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(){return ue(this.year())}function le(e,t,n){var i,r=n-t,s=n-e.day();return s>r&&(s-=7),r-7>s&&(s+=7),i=Re(e).add(s,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function de(e){return le(e,this._week.dow,this._week.doy).week}function fe(){return this._week.dow}function pe(){return this._week.doy}function ge(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function me(e){var t=le(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ve(e,t,n,i,r){var s,o=6+r-i,a=ae(e,0,1+o),h=a.getUTCDay();return r>h&&(h+=7),n=null!=n?1*n:r,s=1+o+7*(t-1)-h+n,{year:s>0?e:e-1,dayOfYear:s>0?s:he(e-1)+s}}function _e(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function ye(e,t,n){return null!=e?e:null!=t?t:n}function be(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function we(e){var t,n,i,r,s=[];if(!e._d){for(i=be(e),e._w&&null==e._a[ci]&&null==e._a[ui]&&Me(e),e._dayOfYear&&(r=ye(e._a[hi],i[hi]),e._dayOfYear>he(r)&&(l(e)._overflowDayOfYear=!0),n=ae(r,0,e._dayOfYear),e._a[ui]=n.getUTCMonth(),e._a[ci]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[li]&&0===e._a[di]&&0===e._a[fi]&&0===e._a[pi]&&(e._nextDay=!0,e._a[li]=0),e._d=(e._useUTC?ae:oe).apply(null,s),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[li]=24)}}function Me(e){var t,n,i,r,s,o,a;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(s=1,o=4,n=ye(t.GG,e._a[hi],le(Re(),1,4).year),i=ye(t.W,1),r=ye(t.E,1)):(s=e._locale._week.dow,o=e._locale._week.doy,n=ye(t.gg,e._a[hi],le(Re(),s,o).year),i=ye(t.w,1),null!=t.d?(r=t.d,s>r&&++i):r=null!=t.e?t.e+s:s),a=ve(n,i,r,o,s),e._a[hi]=a.year,e._dayOfYear=a.dayOfYear}function xe(t){if(t._f===e.ISO_8601)return void re(t);t._a=[],l(t).empty=!0;var n,i,r,s,o,a=""+t._i,h=a.length,u=0;for(r=F(t._f,t._locale).match(Un)||[],n=0;n<r.length;n++)s=r[n],i=(a.match(U(s,t))||[])[0],i&&(o=a.substr(0,a.indexOf(i)),o.length>0&&l(t).unusedInput.push(o),a=a.slice(a.indexOf(i)+i.length),u+=i.length),Hn[s]?(i?l(t).empty=!1:l(t).unusedTokens.push(s),G(s,i,t)):t._strict&&!i&&l(t).unusedTokens.push(s);l(t).charsLeftOver=h-u,a.length>0&&l(t).unusedInput.push(a),l(t).bigHour===!0&&t._a[li]<=12&&t._a[li]>0&&(l(t).bigHour=void 0),t._a[li]=Ce(t._locale,t._a[li],t._meridiem),we(t),ee(t)}function Ce(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function ke(e){var t,n,i,r,s;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)s=0,t=p({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],xe(t),d(t)&&(s+=l(t).charsLeftOver,s+=10*l(t).unusedTokens.length,l(t).score=s,(null==i||i>s)&&(i=s,n=t));h(e,n||t)}function De(e){if(!e._d){var t=E(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],we(e)}}function Se(e){var t=new g(ee(Oe(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Oe(e){var t=e._i,n=e._f;return e._locale=e._locale||D(e._l),null===t||void 0===n&&""===t?f({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),m(t)?new g(ee(t)):(r(n)?ke(e):n?xe(e):s(t)?e._d=t:Ee(e),e))}function Ee(t){var n=t._i;void 0===n?t._d=new Date:s(n)?t._d=new Date(+n):"string"==typeof n?se(t):r(n)?(t._a=o(n.slice(0),function(e){return parseInt(e,10)}),we(t)):"object"==typeof n?De(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Te(e,t,n,i,r){var s={};return"boolean"==typeof n&&(i=n,n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,Se(s)}function Re(e,t,n,i){return Te(e,t,n,i,!1)}function Ve(e,t){var n,i;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Re();for(n=t[0],i=1;i<t.length;++i)(!t[i].isValid()||t[i][e](n))&&(n=t[i]);return n}function Ae(){var e=[].slice.call(arguments,0);return Ve("isBefore",e)}function Ie(){var e=[].slice.call(arguments,0);return Ve("isAfter",e)}function Ye(e){var t=E(e),n=t.year||0,i=t.quarter||0,r=t.month||0,s=t.week||0,o=t.day||0,a=t.hour||0,h=t.minute||0,u=t.second||0,c=t.millisecond||0;this._milliseconds=+c+1e3*u+6e4*h+36e5*a,this._days=+o+7*s,this._months=+r+3*i+12*n,this._data={},this._locale=D(),this._bubble()}function je(e){return e instanceof Ye}function Be(e,t){Y(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)})}function Ne(e){var t=(e||"").match(ii)||[],n=t[t.length-1]||[],i=(n+"").match(Di)||["-",0,0],r=+(60*i[1])+_(i[2]);return"+"===i[0]?r:-r}function Fe(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(m(t)||s(t)?+t:+Re(t))-+i,i._d.setTime(+i._d+r),e.updateOffset(i,!1),i):Re(t).local()}function Le(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Pe(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Ne(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Le(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?it(this,Qe(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Le(this)}function Ue(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function ze(e){return this.utcOffset(0,e)}function We(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Le(this),"m")),this}function He(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ne(this._i)),this}function Ge(e){return e=e?Re(e).utcOffset():0,(this.utcOffset()-e)%60===0}function $e(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qe(){if("undefined"!=typeof this._isDSTShifted)return this._isDSTShifted;var e={};if(p(e,this),e=Oe(e),e._a){var t=e._isUTC?u(e._a):Re(e._a);this._isDSTShifted=this.isValid()&&y(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Je(){return!this._isUTC}function Ze(){return this._isUTC}function Ke(){return this._isUTC&&0===this._offset}function Qe(e,t){var n,i,r,s=e,o=null;return je(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(s={},t?s[t]=e:s.milliseconds=e):(o=Si.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:_(o[ci])*n,h:_(o[li])*n,m:_(o[di])*n,s:_(o[fi])*n,ms:_(o[pi])*n}):(o=Oi.exec(e))?(n="-"===o[1]?-1:1,s={y:Xe(o[2],n),M:Xe(o[3],n),d:Xe(o[4],n),h:Xe(o[5],n),m:Xe(o[6],n),s:Xe(o[7],n),w:Xe(o[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(r=tt(Re(s.from),Re(s.to)),s={},s.ms=r.milliseconds,s.M=r.months),i=new Ye(s),je(e)&&a(e,"_locale")&&(i._locale=e._locale),i}function Xe(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function et(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function tt(e,t){var n;return t=Fe(t,e),e.isBefore(t)?n=et(e,t):(n=et(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function nt(e,t){return function(n,i){var r,s;return null===i||isNaN(+i)||(ie(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),s=n,n=i,i=s),n="string"==typeof n?+n:n,r=Qe(n,i),it(this,r,e),this}}function it(t,n,i,r){var s=n._milliseconds,o=n._days,a=n._months;r=null==r?!0:r,s&&t._d.setTime(+t._d+s*i),o&&V(t,"Date",R(t,"Date")+o*i),a&&K(t,R(t,"Month")+a*i),r&&e.updateOffset(t,o||a)}function rt(e,t){var n=e||Re(),i=Fe(n,this).startOf("day"),r=this.diff(i,"days",!0),s=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(t&&t[s]||this.localeData().calendar(s,this,Re(n)))}function st(){return new g(this)}function ot(e,t){var n;return t=O("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Re(e),+this>+e):(n=m(e)?+e:+Re(e),n<+this.clone().startOf(t))}function at(e,t){var n;return t=O("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=m(e)?e:Re(e),+e>+this):(n=m(e)?+e:+Re(e),+this.clone().endOf(t)<n)}function ht(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function ut(e,t){var n;return t=O(t||"millisecond"),"millisecond"===t?(e=m(e)?e:Re(e),+this===+e):(n=+Re(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function ct(e,t,n){var i,r,s=Fe(e,this),o=6e4*(s.utcOffset()-this.utcOffset());return t=O(t),"year"===t||"month"===t||"quarter"===t?(r=lt(this,s),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-s,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?r:v(r)}function lt(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(r,"months");return 0>t-s?(n=e.clone().add(r-1,"months"),i=(t-s)/(s-n)):(n=e.clone().add(r+1,"months"),i=(t-s)/(n-s)),-(r+i)}function dt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ft(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():N(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):N(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function pt(t){var n=N(this,t||e.defaultFormat);return this.localeData().postformat(n)}function gt(e,t){return this.isValid()?Qe({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function mt(e){return this.from(Re(),e)}function vt(e,t){return this.isValid()?Qe({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function _t(e){return this.to(Re(),e)}function yt(e){var t;return void 0===e?this._locale._abbr:(t=D(e),null!=t&&(this._locale=t),this)}function bt(){return this._locale}function wt(e){switch(e=O(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Mt(e){return e=O(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function xt(){return+this._d-6e4*(this._offset||0)}function Ct(){return Math.floor(+this/1e3)}function kt(){return this._offset?new Date(+this):this._d}function Dt(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function St(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ot(){return d(this)}function Et(){return h({},l(this))}function Tt(){return l(this).overflow}function Rt(e,t){Y(0,[e,e.length],0,t)}function Vt(e,t,n){return le(Re([e,11,31+t-n]),t,n).week}function At(e){var t=le(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function It(e){var t=le(this,1,4).year;return null==e?t:this.add(e-t,"y")}function Yt(){return Vt(this.year(),1,4)}function jt(){var e=this.localeData()._week;return Vt(this.year(),e.dow,e.doy)}function Bt(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Nt(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function Ft(e){return this._weekdays[e.day()]}function Lt(e){return this._weekdaysShort[e.day()]}function Pt(e){return this._weekdaysMin[e.day()]}function Ut(e){var t,n,i;for(this._weekdaysParse=this._weekdaysParse||[],t=0;7>t;t++)if(this._weekdaysParse[t]||(n=Re([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function zt(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function Wt(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Gt(e,t){Y(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $t(e,t){return t._meridiemParse}function qt(e){return"p"===(e+"").toLowerCase().charAt(0)}function Jt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Zt(e,t){t[pi]=_(1e3*("0."+e))}function Kt(){return this._isUTC?"UTC":""}function Qt(){return this._isUTC?"Coordinated Universal Time":""}function Xt(e){return Re(1e3*e)}function en(){return Re.apply(null,arguments).parseZone()}function tn(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function nn(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function rn(){return this._invalidDate}function sn(e){return this._ordinal.replace("%d",e)}function on(e){return e}function an(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function hn(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function un(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function cn(e,t,n,i){var r=D(),s=u().set(i,t);return r[n](s,e)}function ln(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,r);var s,o=[];for(s=0;i>s;s++)o[s]=cn(e,s,n,r);return o}function dn(e,t){return ln(e,t,"months",12,"month")}function fn(e,t){return ln(e,t,"monthsShort",12,"month")}function pn(e,t){return ln(e,t,"weekdays",7,"day")}function gn(e,t){return ln(e,t,"weekdaysShort",7,"day")}function mn(e,t){return ln(e,t,"weekdaysMin",7,"day")}function vn(){var e=this._data;return this._milliseconds=Ki(this._milliseconds),this._days=Ki(this._days),this._months=Ki(this._months),e.milliseconds=Ki(e.milliseconds),e.seconds=Ki(e.seconds),e.minutes=Ki(e.minutes),e.hours=Ki(e.hours),e.months=Ki(e.months),e.years=Ki(e.years),this}function _n(e,t,n,i){var r=Qe(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function yn(e,t){return _n(this,e,t,1)}function bn(e,t){return _n(this,e,t,-1)}function wn(e){return 0>e?Math.floor(e):Math.ceil(e)}function Mn(){var e,t,n,i,r,s=this._milliseconds,o=this._days,a=this._months,h=this._data;return s>=0&&o>=0&&a>=0||0>=s&&0>=o&&0>=a||(s+=864e5*wn(Cn(a)+o),o=0,a=0),h.milliseconds=s%1e3,e=v(s/1e3),h.seconds=e%60,t=v(e/60),h.minutes=t%60,n=v(t/60),h.hours=n%24,o+=v(n/24),r=v(xn(o)),a+=r,o-=wn(Cn(r)),i=v(a/12),a%=12,h.days=o,h.months=a,h.years=i,this}function xn(e){return 4800*e/146097}function Cn(e){return 146097*e/4800}function kn(e){var t,n,i=this._milliseconds;if(e=O(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+xn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(Cn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}}function Dn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function Sn(e){return function(){return this.as(e)}}function On(e){return e=O(e),this[e+"s"]()}function En(e){return function(){return this._data[e]}}function Tn(){return v(this.days()/7)}function Rn(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function Vn(e,t,n){var i=Qe(e).abs(),r=fr(i.as("s")),s=fr(i.as("m")),o=fr(i.as("h")),a=fr(i.as("d")),h=fr(i.as("M")),u=fr(i.as("y")),c=r<pr.s&&["s",r]||1===s&&["m"]||s<pr.m&&["mm",s]||1===o&&["h"]||o<pr.h&&["hh",o]||1===a&&["d"]||a<pr.d&&["dd",a]||1===h&&["M"]||h<pr.M&&["MM",h]||1===u&&["y"]||["yy",u];return c[2]=t,c[3]=+e>0,c[4]=n,Rn.apply(null,c)}function An(e,t){return void 0===pr[e]?!1:void 0===t?pr[e]:(pr[e]=t,!0)}function In(e){var t=this.localeData(),n=Vn(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Yn(){var e,t,n,i=gr(this._milliseconds)/1e3,r=gr(this._days),s=gr(this._months);e=v(i/60),t=v(e/60),i%=60,e%=60,n=v(s/12),s%=12;var o=n,a=s,h=r,u=t,c=e,l=i,d=this.asSeconds();return d?(0>d?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(h?h+"D":"")+(u||c||l?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(l?l+"S":""):"P0D"}var jn,Bn,Nn=e.momentProperties=[],Fn=!1,Ln={},Pn={},Un=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Wn={},Hn={},Gn=/\d/,$n=/\d\d/,qn=/\d{3}/,Jn=/\d{4}/,Zn=/[+-]?\d{6}/,Kn=/\d\d?/,Qn=/\d{1,3}/,Xn=/\d{1,4}/,ei=/[+-]?\d{1,6}/,ti=/\d+/,ni=/[+-]?\d+/,ii=/Z|[+-]\d\d:?\d\d/gi,ri=/[+-]?\d+(\.\d{1,3})?/,si=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,oi={},ai={},hi=0,ui=1,ci=2,li=3,di=4,fi=5,pi=6;Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),Y("MMMM",0,0,function(e){return this.localeData().months(this,e)}),S("month","M"),P("M",Kn),P("MM",Kn,$n),P("MMM",si),P("MMMM",si),W(["M","MM"],function(e,t){t[ui]=_(e)-1}),W(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ui]=r:l(n).invalidMonth=e});var gi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),mi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),vi={};e.suppressDeprecationWarnings=!1;var _i=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],bi=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],wi=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=ne("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),S("year","y"),P("Y",ni),P("YY",Kn,$n),P("YYYY",Xn,Jn),P("YYYYY",ei,Zn),P("YYYYYY",ei,Zn),W(["YYYYY","YYYYYY"],hi),W("YYYY",function(t,n){n[hi]=2===t.length?e.parseTwoDigitYear(t):_(t)}),W("YY",function(t,n){n[hi]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return _(e)+(_(e)>68?1900:2e3)};var Mi=T("FullYear",!1);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),P("w",Kn),P("ww",Kn,$n),P("W",Kn),P("WW",Kn,$n),H(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=_(e)});var xi={dow:0,doy:6};Y("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),P("DDD",Qn),P("DDDD",qn),W(["DDD","DDDD"],function(e,t,n){n._dayOfYear=_(e)}),e.ISO_8601=function(){};var Ci=ne("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=Re.apply(null,arguments);return this>e?this:e}),ki=ne("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=Re.apply(null,arguments);return e>this?this:e});Be("Z",":"),Be("ZZ",""),P("Z",ii),P("ZZ",ii),W(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ne(e)});var Di=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Si=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Oi=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Qe.fn=Ye.prototype;var Ei=nt(1,"add"),Ti=nt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Ri=ne("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Rt("gggg","weekYear"),Rt("ggggg","weekYear"),Rt("GGGG","isoWeekYear"),Rt("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),P("G",ni),P("g",ni),P("GG",Kn,$n),P("gg",Kn,$n),P("GGGG",Xn,Jn),P("gggg",Xn,Jn),P("GGGGG",ei,Zn),P("ggggg",ei,Zn),H(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=_(e)}),H(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),Y("Q",0,0,"quarter"),S("quarter","Q"),P("Q",Gn),W("Q",function(e,t){t[ui]=3*(_(e)-1)}),Y("D",["DD",2],"Do","date"),S("date","D"),P("D",Kn),P("DD",Kn,$n),P("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),W(["D","DD"],ci),W("Do",function(e,t){t[ci]=_(e.match(Kn)[0],10)});var Vi=T("Date",!0);Y("d",0,"do","day"),Y("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),Y("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),Y("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),P("d",Kn),P("e",Kn),P("E",Kn),P("dd",si),P("ddd",si),P("dddd",si),H(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:l(n).invalidWeekday=e}),H(["d","e","E"],function(e,t,n,i){t[i]=_(e)});var Ai="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ii="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yi="Su_Mo_Tu_We_Th_Fr_Sa".split("_");Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,function(){return this.hours()%12||12}),Gt("a",!0),Gt("A",!1),S("hour","h"),P("a",$t),P("A",$t),P("H",Kn),P("h",Kn),P("HH",Kn,$n),P("hh",Kn,$n),W(["H","HH"],li),W(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),W(["h","hh"],function(e,t,n){t[li]=_(e),l(n).bigHour=!0});var ji=/[ap]\.?m?\.?/i,Bi=T("Hours",!0);Y("m",["mm",2],0,"minute"),S("minute","m"),P("m",Kn),P("mm",Kn,$n),W(["m","mm"],di);var Ni=T("Minutes",!1);Y("s",["ss",2],0,"second"),S("second","s"),P("s",Kn),P("ss",Kn,$n),W(["s","ss"],fi);var Fi=T("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),P("S",Qn,Gn),P("SS",Qn,$n),P("SSS",Qn,qn);var Li;for(Li="SSSS";Li.length<=9;Li+="S")P(Li,ti);for(Li="S";Li.length<=9;Li+="S")W(Li,Zt);var Pi=T("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Ui=g.prototype;Ui.add=Ei,Ui.calendar=rt,Ui.clone=st,Ui.diff=ct,Ui.endOf=Mt,Ui.format=pt,Ui.from=gt,Ui.fromNow=mt,Ui.to=vt,Ui.toNow=_t,Ui.get=A,Ui.invalidAt=Tt,Ui.isAfter=ot,Ui.isBefore=at,Ui.isBetween=ht,Ui.isSame=ut,Ui.isValid=Ot,Ui.lang=Ri,Ui.locale=yt,Ui.localeData=bt,Ui.max=ki,Ui.min=Ci,Ui.parsingFlags=Et,Ui.set=A,Ui.startOf=wt,Ui.subtract=Ti,Ui.toArray=Dt,Ui.toObject=St,Ui.toDate=kt,Ui.toISOString=ft,Ui.toJSON=ft,Ui.toString=dt,Ui.unix=Ct,Ui.valueOf=xt,Ui.year=Mi,Ui.isLeapYear=ce,Ui.weekYear=At,Ui.isoWeekYear=It,Ui.quarter=Ui.quarters=Bt,Ui.month=Q,Ui.daysInMonth=X,Ui.week=Ui.weeks=ge,Ui.isoWeek=Ui.isoWeeks=me,Ui.weeksInYear=jt,Ui.isoWeeksInYear=Yt,Ui.date=Vi,Ui.day=Ui.days=zt,Ui.weekday=Wt,Ui.isoWeekday=Ht,Ui.dayOfYear=_e,Ui.hour=Ui.hours=Bi,Ui.minute=Ui.minutes=Ni,Ui.second=Ui.seconds=Fi,Ui.millisecond=Ui.milliseconds=Pi,Ui.utcOffset=Pe,Ui.utc=ze,Ui.local=We,Ui.parseZone=He,Ui.hasAlignedHourOffset=Ge,Ui.isDST=$e,Ui.isDSTShifted=qe,Ui.isLocal=Je,Ui.isUtcOffset=Ze,Ui.isUtc=Ke,Ui.isUTC=Ke,Ui.zoneAbbr=Kt,Ui.zoneName=Qt,Ui.dates=ne("dates accessor is deprecated. Use date instead.",Vi),Ui.months=ne("months accessor is deprecated. Use month instead",Q),Ui.years=ne("years accessor is deprecated. Use year instead",Mi),Ui.zone=ne("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ue);var zi=Ui,Wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",
sameElse:"L"},Hi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Gi="Invalid date",$i="%d",qi=/\d{1,2}/,Ji={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Zi=b.prototype;Zi._calendar=Wi,Zi.calendar=tn,Zi._longDateFormat=Hi,Zi.longDateFormat=nn,Zi._invalidDate=Gi,Zi.invalidDate=rn,Zi._ordinal=$i,Zi.ordinal=sn,Zi._ordinalParse=qi,Zi.preparse=on,Zi.postformat=on,Zi._relativeTime=Ji,Zi.relativeTime=an,Zi.pastFuture=hn,Zi.set=un,Zi.months=q,Zi._months=gi,Zi.monthsShort=J,Zi._monthsShort=mi,Zi.monthsParse=Z,Zi.week=de,Zi._week=xi,Zi.firstDayOfYear=pe,Zi.firstDayOfWeek=fe,Zi.weekdays=Ft,Zi._weekdays=Ai,Zi.weekdaysMin=Pt,Zi._weekdaysMin=Yi,Zi.weekdaysShort=Lt,Zi._weekdaysShort=Ii,Zi.weekdaysParse=Ut,Zi.isPM=qt,Zi._meridiemParse=ji,Zi.meridiem=Jt,C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=ne("moment.lang is deprecated. Use moment.locale instead.",C),e.langData=ne("moment.langData is deprecated. Use moment.localeData instead.",D);var Ki=Math.abs,Qi=Sn("ms"),Xi=Sn("s"),er=Sn("m"),tr=Sn("h"),nr=Sn("d"),ir=Sn("w"),rr=Sn("M"),sr=Sn("y"),or=En("milliseconds"),ar=En("seconds"),hr=En("minutes"),ur=En("hours"),cr=En("days"),lr=En("months"),dr=En("years"),fr=Math.round,pr={s:45,m:45,h:22,d:26,M:11},gr=Math.abs,mr=Ye.prototype;mr.abs=vn,mr.add=yn,mr.subtract=bn,mr.as=kn,mr.asMilliseconds=Qi,mr.asSeconds=Xi,mr.asMinutes=er,mr.asHours=tr,mr.asDays=nr,mr.asWeeks=ir,mr.asMonths=rr,mr.asYears=sr,mr.valueOf=Dn,mr._bubble=Mn,mr.get=On,mr.milliseconds=or,mr.seconds=ar,mr.minutes=hr,mr.hours=ur,mr.days=cr,mr.weeks=Tn,mr.months=lr,mr.years=dr,mr.humanize=In,mr.toISOString=Yn,mr.toString=Yn,mr.toJSON=Yn,mr.locale=yt,mr.localeData=bt,mr.toIsoString=ne("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Yn),mr.lang=Ri,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),P("x",ni),P("X",ri),W("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),W("x",function(e,t,n){n._d=new Date(_(e))}),e.version="2.10.6",i(Re),e.fn=zi,e.min=Ae,e.max=Ie,e.utc=u,e.unix=Xt,e.months=dn,e.isDate=s,e.locale=C,e.invalid=f,e.duration=Qe,e.isMoment=m,e.weekdays=pn,e.parseZone=en,e.localeData=D,e.isDuration=je,e.monthsShort=fn,e.weekdaysMin=mn,e.defineLocale=k,e.weekdaysShort=gn,e.normalizeUnits=O,e.relativeTimeThreshold=An;var vr=e;return vr})},{}],48:[function(t,n,i){!function(r,s){"use strict";var o;if("object"==typeof i){try{o=t("moment")}catch(a){}n.exports=s(o)}else"function"==typeof e&&e.amd?e(function(e){var t="moment";try{o=e(t)}catch(n){}return s(o)}):r.Pikaday=s(r.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,i=window.document,r=window.setTimeout,s=function(e,t,i,r){n?e.addEventListener(t,i,!!r):e.attachEvent("on"+t,i)},o=function(e,t,i,r){n?e.removeEventListener(t,i,!!r):e.detachEvent("on"+t,i)},a=function(e,t,n){var r;i.createEvent?(r=i.createEvent("HTMLEvents"),r.initEvent(t,!0,!1),r=y(r,n),e.dispatchEvent(r)):i.createEventObject&&(r=i.createEventObject(),r=y(r,n),e.fireEvent("on"+t,r))},h=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u=function(e,t){return-1!==(" "+e.className+" ").indexOf(" "+t+" ")},c=function(e,t){u(e,t)||(e.className=""===e.className?t:e.className+" "+t)},l=function(e,t){e.className=h((" "+e.className+" ").replace(" "+t+" "," "))},d=function(e){return/Array/.test(Object.prototype.toString.call(e))},f=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},p=function(e){var t=e.getDay();return 0===t||6===t},g=function(e){return e%4===0&&e%100!==0||e%400===0},m=function(e,t){return[31,g(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){f(e)&&e.setHours(0,0,0,0)},_=function(e,t){return e.getTime()===t.getTime()},y=function(e,t,n){var i,r;for(i in t)r=void 0!==e[i],r&&"object"==typeof t[i]&&null!==t[i]&&void 0===t[i].nodeName?f(t[i])?n&&(e[i]=new Date(t[i].getTime())):d(t[i])?n&&(e[i]=t[i].slice(0)):e[i]=y({},t[i],n):(n||!r)&&(e[i]=t[i]);return e},b=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},w={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},M=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},x=function(e){if(e.isEmpty)return'<td class="is-empty"></td>';var t=[];return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&t.push("is-selected"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},C=function(e,t,n){var i=new Date(n,0,1),r=Math.ceil(((new Date(n,t,e)-i)/864e5+i.getDay()+1)/7);return'<td class="pika-week">'+r+"</td>"},k=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},D=function(e){return"<tbody>"+e.join("")+"</tbody>"},S=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;7>t;t++)n.push('<th scope="col"><abbr title="'+M(e,t)+'">'+M(e,t,!0)+"</abbr></th>");return"<thead>"+(e.isRTL?n.reverse():n).join("")+"</thead>"},O=function(e,t,n,i,r){var s,o,a,h,u,c=e._o,l=n===c.minYear,f=n===c.maxYear,p='<div class="pika-title">',g=!0,m=!0;for(a=[],s=0;12>s;s++)a.push('<option value="'+(n===r?s-t:12+s-t)+'"'+(s===i?" selected":"")+(l&&s<c.minMonth||f&&s>c.maxMonth?"disabled":"")+">"+c.i18n.months[s]+"</option>");for(h='<div class="pika-label">'+c.i18n.months[i]+'<select class="pika-select pika-select-month" tabindex="-1">'+a.join("")+"</select></div>",d(c.yearRange)?(s=c.yearRange[0],o=c.yearRange[1]+1):(s=n-c.yearRange,o=1+n+c.yearRange),a=[];o>s&&s<=c.maxYear;s++)s>=c.minYear&&a.push('<option value="'+s+'"'+(s===n?" selected":"")+">"+s+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+a.join("")+"</select></div>",p+=c.showMonthAfterYear?u+h:h+u,l&&(0===i||c.minMonth>=i)&&(g=!1),f&&(11===i||c.maxMonth<=i)&&(m=!1),0===t&&(p+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(p+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},E=function(e,t){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+S(e)+D(t)+"</table>"},T=function(o){var a=this,h=a.config(o);a._onMouseDown=function(e){if(a._v){e=e||window.event;var t=e.target||e.srcElement;if(t)if(u(t,"is-disabled")||(u(t,"pika-button")&&!u(t,"is-empty")?(a.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),h.bound&&r(function(){a.hide(),h.field&&h.field.blur()},100)):u(t,"pika-prev")?a.prevMonth():u(t,"pika-next")&&a.nextMonth()),u(t,"pika-select"))a._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},a._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(u(t,"pika-select-month")?a.gotoMonth(t.value):u(t,"pika-select-year")&&a.gotoYear(t.value))},a._onInputChange=function(n){var i;n.firedBy!==a&&(t?(i=e(h.field.value,h.format),i=i&&i.isValid()?i.toDate():null):i=new Date(Date.parse(h.field.value)),f(i)&&a.setDate(i),a._v||a.show())},a._onInputFocus=function(){a.show()},a._onInputClick=function(){a.show()},a._onInputBlur=function(){var e=i.activeElement;do if(u(e,"pika-single"))return;while(e=e.parentNode);a._c||(a._b=r(function(){a.hide()},50)),a._c=!1},a._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,i=t;if(t){!n&&u(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),s(t,"change",a._onChange)));do if(u(i,"pika-single")||i===h.trigger)return;while(i=i.parentNode);a._v&&t!==h.trigger&&i!==h.trigger&&a.hide()}},a.el=i.createElement("div"),a.el.className="pika-single"+(h.isRTL?" is-rtl":"")+(h.theme?" "+h.theme:""),s(a.el,"mousedown",a._onMouseDown,!0),s(a.el,"touchend",a._onMouseDown,!0),s(a.el,"change",a._onChange),h.field&&(h.container?h.container.appendChild(a.el):h.bound?i.body.appendChild(a.el):h.field.parentNode.insertBefore(a.el,h.field.nextSibling),s(h.field,"change",a._onInputChange),h.defaultDate||(t&&h.field.value?h.defaultDate=e(h.field.value,h.format).toDate():h.defaultDate=new Date(Date.parse(h.field.value)),h.setDefaultDate=!0));var c=h.defaultDate;f(c)?h.setDefaultDate?a.setDate(c,!0):a.gotoDate(c):a.gotoDate(new Date),h.bound?(this.hide(),a.el.className+=" is-bound",s(h.trigger,"click",a._onInputClick),s(h.trigger,"focus",a._onInputFocus),s(h.trigger,"blur",a._onInputBlur)):this.show()};return T.prototype={config:function(e){this._o||(this._o=y({},w,!0));var t=y(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,f(t.minDate)||(t.minDate=!1),f(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),d(t.yearRange)){var i=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||i,t.yearRange[1]=parseInt(t.yearRange[1],10)||i}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||w.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return f(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,i){t&&e.isMoment(n)&&this.setDate(n.toDate(),i)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",a(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),f(e)){var n=this._o.minDate,i=this._o.maxDate;f(n)&&n>e?e=n:f(i)&&e>i&&(e=i),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),a(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(f(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),i=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),r=e.getTime();i.setMonth(i.getMonth()+1),i.setDate(i.getDate()-1),t=r<n.getTime()||i.getTime()<r}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=b({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){v(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth(),this.draw()},setMaxDate:function(e){v(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth(),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t=this._o,n=t.minYear,i=t.maxYear,s=t.minMonth,o=t.maxMonth,a="";this._y<=n&&(this._y=n,!isNaN(s)&&this._m<s&&(this._m=s)),this._y>=i&&(this._y=i,!isNaN(o)&&this._m>o&&(this._m=o));for(var h=0;h<t.numberOfMonths;h++)a+='<div class="pika-lendar">'+O(this,h,this.calendars[h].year,this.calendars[h].month,this.calendars[0].year)+this.render(this.calendars[h].year,this.calendars[h].month)+"</div>";if(this.el.innerHTML=a,t.bound&&"hidden"!==t.field.type&&r(function(){t.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;r(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){var e,t,n,r,s,o,a,h,u,c;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,r=this.el.offsetHeight,s=window.innerWidth||i.documentElement.clientWidth,o=window.innerHeight||i.documentElement.clientHeight,a=window.pageYOffset||i.body.scrollTop||i.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)c=e.getBoundingClientRect(),h=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(h=t.offsetLeft,u=t.offsetTop+t.offsetHeight;t=t.offsetParent;)h+=t.offsetLeft,u+=t.offsetTop;(this._o.reposition&&h+n>s||this._o.position.indexOf("right")>-1&&h-n+e.offsetWidth>0)&&(h=h-n+e.offsetWidth),(this._o.reposition&&u+r>o+a||this._o.position.indexOf("top")>-1&&u-r-e.offsetHeight>0)&&(u=u-r-e.offsetHeight),this.el.style.left=h+"px",this.el.style.top=u+"px"}},render:function(e,t){var n=this._o,i=new Date,r=m(e,t),s=new Date(e,t,1).getDay(),o=[],a=[];v(i),n.firstDay>0&&(s-=n.firstDay,0>s&&(s+=7));for(var h=r+s,u=h;u>7;)u-=7;h+=7-u;for(var c=0,l=0;h>c;c++){var d=new Date(e,t,1+(c-s)),g=f(this._d)?_(d,this._d):!1,y=_(d,i),b=s>c||c>=r+s,w=n.startRange&&_(n.startRange,d),M=n.endRange&&_(n.endRange,d),D=n.startRange&&n.endRange&&n.startRange<d&&d<n.endRange,S=n.minDate&&d<n.minDate||n.maxDate&&d>n.maxDate||n.disableWeekends&&p(d)||n.disableDayFn&&n.disableDayFn(d),O={day:1+(c-s),month:t,year:e,isSelected:g,isToday:y,isDisabled:S,isEmpty:b,isStartRange:w,isEndRange:M,isInRange:D};a.push(x(O)),7===++l&&(n.showWeekNumber&&a.unshift(C(c-s,t,e)),o.push(k(a,n.isRTL)),a=[],l=0)}return E(n,o)},isVisible:function(){return this._v},show:function(){this._v||(l(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(s(i,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&o(i,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),o(this.el,"mousedown",this._onMouseDown,!0),o(this.el,"touchend",this._onMouseDown,!0),o(this.el,"change",this._onChange),this._o.field&&(o(this._o.field,"change",this._onInputChange),this._o.bound&&(o(this._o.trigger,"click",this._onInputClick),o(this._o.trigger,"focus",this._onInputFocus),o(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},T})},{moment:47}],49:[function(t,n,i){!function(t,r){"function"==typeof e&&e.amd?e([],function(){return t.svg4everybody=r()}):"object"==typeof i?n.exports=r():t.svg4everybody=r()}(this,function(){function e(e,t){if(t){var n=!e.getAttribute("viewBox")&&t.getAttribute("viewBox"),i=document.createDocumentFragment(),r=t.cloneNode(!0);for(n&&e.setAttribute("viewBox",n);r.childNodes.length;)i.appendChild(r.firstChild);e.appendChild(i)}}function t(t){t.onreadystatechange=function(){if(4===t.readyState){var n=document.createElement("x");n.innerHTML=t.responseText,t.s.splice(0).map(function(t){e(t[0],n.querySelector("#"+t[1].replace(/(\W)/g,"\\$1")))})}},t.onreadystatechange()}function n(n){function i(){for(var n,l,d=0;d<s.length;)if(n=s[d],l=n.parentNode,l&&/svg/i.test(l.nodeName)){var f=n.getAttribute("xlink:href");if(r){var p=new Image,g=l.getAttribute("width"),m=l.getAttribute("height");p.src=o(f,l,n),g&&p.setAttribute("width",g),m&&p.setAttribute("height",m),l.replaceChild(p,n)}else if(a&&(!h||h(f,l,n))){var v=f.split("#"),_=v[0],y=v[1];if(l.removeChild(n),_.length){var b=c[_]=c[_]||new XMLHttpRequest;b.s||(b.s=[],b.open("GET",_),b.send()),b.s.push([l,y]),t(b)}else e(l,document.getElementById(y))}}else d+=1;u(i,17)}n=n||{};var r,s=document.getElementsByTagName("use"),o=n.fallback||function(e){return e.replace(/\?[^#]+/,"").replace("#",".").replace(/^\./,"")+".png"+(/\?[^#]+/.exec(e)||[""])[0]};r="nosvg"in n?n.nosvg:/\bMSIE [1-8]\b/.test(navigator.userAgent),r&&(document.createElement("svg"),document.createElement("use"));var a="polyfill"in n?n.polyfill:r||/\bEdge\/12\b|\bMSIE [1-8]\b|\bTrident\/[567]\b|\bVersion\/7.0 Safari\b/.test(navigator.userAgent)||(navigator.userAgent.match(/AppleWebKit\/(\d+)/)||[])[1]<537,h=n.validate,u=window.requestAnimationFrame||setTimeout,c={};a&&i()}return n})},{}],50:[function(t,n,i){("undefined"!=typeof n&&function(e){n.exports=e()}||"function"==typeof e&&function(t){e("underscoreDeepExtend",t)}||function(e){window.underscoreDeepExtend=e()})(function(){return function(e){return function(t){var n=/#{\s*?_\s*?}/,i=Array.prototype.slice,r=Object.prototype.hasOwnProperty;return e.each(i.call(arguments,1),function(i){for(var s in i)if(r.call(i,s))if(e.isUndefined(t[s])||e.isFunction(t[s])||e.isNull(i[s])||e.isDate(i[s]))t[s]=i[s];else if(e.isString(i[s])&&n.test(i[s]))e.isString(t[s])&&(t[s]=i[s].replace(n,t[s]));else if(e.isArray(t[s])||e.isArray(i[s])){if(!e.isArray(t[s])||!e.isArray(i[s]))throw"Error: Trying to combine an array with a non-array ("+s+")";t[s]=e.reject(e.deepExtend(t[s],i[s]),function(t){return e.isNull(t)})}else if(e.isObject(t[s])||e.isObject(i[s])){if(!e.isObject(t[s])||!e.isObject(i[s]))throw"Error: Trying to combine an object with a non-object ("+s+")";t[s]=e.deepExtend(t[s],i[s])}else t[s]=i[s]}),t}}})},{}]},{},[13])(13)});